{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://ngx-extended-pdf-viewer/lib/options/pdf-default-options.ts","ng://ngx-extended-pdf-viewer/lib/options/verbosity-level.ts","ng://ngx-extended-pdf-viewer/lib/events/find-result.ts","ng://ngx-extended-pdf-viewer/lib/pdf-dummy-components/pdf-dummy-components.component.ts","ng://ngx-extended-pdf-viewer/lib/pdf-notification-service.ts","ng://ngx-extended-pdf-viewer/lib/options/pdf-cursor-tools.ts","ng://ngx-extended-pdf-viewer/lib/pinch-on-mobile-support.ts","ng://ngx-extended-pdf-viewer/lib/options/pdf-viewer.ts","ng://ngx-extended-pdf-viewer/lib/ngx-extended-pdf-viewer.component.ts","ng://ngx-extended-pdf-viewer/lib/ngx-extended-pdf-viewer.service.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-hand-tool/pdf-hand-tool.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-bookmark/pdf-bookmark.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-context-menu/pdf-context-menu.component.ts","ng://ngx-extended-pdf-viewer/lib/document-properties/pdf-document-properties-overlay/pdf-document-properties-overlay.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-download/pdf-download.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar-message-container/pdf-findbar-message-container.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar-options-one-container/pdf-findbar-options-one-container.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar-options-three-container/pdf-findbar-options-three-container.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar-options-two-container/pdf-findbar-options-two-container.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-find-button/pdf-find-button.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar-options-two-container/pdf-find-entire-word/pdf-find-entire-word.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar-options-three-container/pdf-find-fuzzily/pdf-find-fuzzily.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar-options-one-container/pdf-find-highlight-all/pdf-find-highlight-all.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar-options-three-container/pdf-find-ignore-accents/pdf-find-ignore-accents.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-find-input-area/pdf-find-input-area.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar-options-one-container/pdf-find-match-case/pdf-find-match-case.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar-service.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar-options-two-container/pdf-find-entire-phrase/pdf-find-entire-phrase.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-find-next/pdf-find-next.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-find-previous/pdf-find-previous.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-findbar-options-three-container/pdf-find-results-count/pdf-find-results-count.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-paging-area/pdf-first-page/pdf-first-page.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-paging-area/pdf-last-page/pdf-last-page.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-paging-area/pdf-next-page/pdf-next-page.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-open-file/pdf-open-file.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-paging-area/pdf-page-number/pdf-page-number.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-paging-area/pdf-paging-area.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-presentation-mode/pdf-presentation-mode.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-paging-area/pdf-previous-page/pdf-previous-page.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-print/pdf-print.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-rotate-page/pdf-rotate-page.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-findbar/pdf-search-input-field/pdf-search-input-field.component.ts","ng://ngx-extended-pdf-viewer/lib/secondary-toolbar/pdf-secondary-toolbar/pdf-secondary-toolbar.component.ts","ng://ngx-extended-pdf-viewer/lib/sidebar/pdf-sidebar/pdf-sidebar.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-toggle-secondary-toolbar/pdf-toggle-secondary-toolbar.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-toggle-sidebar/pdf-toggle-sidebar.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-toolbar/pdf-toolbar.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-zoom-toolbar/pdf-zoom-dropdown/pdf-zoom-dropdown.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-zoom-toolbar/pdf-zoom-in/pdf-zoom-in.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-zoom-toolbar/pdf-zoom-out/pdf-zoom-out.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-zoom-toolbar/pdf-zoom-toolbar.component.ts","ng://ngx-extended-pdf-viewer/lib/toolbar/pdf-select-tool/pdf-select-tool.component.ts","ng://ngx-extended-pdf-viewer/lib/dynamic-css/dynamic-css.component.ts","ng://ngx-extended-pdf-viewer/lib/sidebar/pdf-sidebar/pdf-sidebar-content/pdf-sidebar-content.component.ts","ng://ngx-extended-pdf-viewer/lib/sidebar/pdf-sidebar/pdf-sidebar-toolbar/pdf-sidebar-toolbar.component.ts","ng://ngx-extended-pdf-viewer/lib/theme/pdf-light-theme/pdf-light-theme.component.ts","ng://ngx-extended-pdf-viewer/lib/theme/pdf-original-theme/pdf-original.component.ts","ng://ngx-extended-pdf-viewer/lib/theme/pdf-dark-theme/pdf-dark-theme.component.ts","ng://ngx-extended-pdf-viewer/lib/translate.pipe.ts","ng://ngx-extended-pdf-viewer/lib/ngx-extended-pdf-viewer.module.ts","ng://ngx-extended-pdf-viewer/lib/pdf-document-properties-extractor.ts","ng://ngx-extended-pdf-viewer/lib/options/link-target.ts"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","adopt","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__values","o","m","_isIE11","window","MSInputMethodContext","documentMode","isEdge","test","navigator","userAgent","needsES5","ReadableStream","pdfjsVersion","pdfjsBleedingEdgeVersion","getVersionSuffix","folder","includes","exports","pdfDefaultOptions","cursorToolOnLoad","defaultUrl","defaultZoomValue","disableHistory","disablePageLabels","enablePrintAutoRotate","enableWebGL","eventBusDispatchToDOM","externalLinkRel","externalLinkTarget","historyUpdateUrl","imageResourcesPath","maxCanvasPixels","pdfBugEnabled","removePageBorders","renderer","renderInteractiveForms","sidebarViewOnLoad","scrollModeOnLoad","spreadModeOnLoad","textLayerMode","useOnlyCssZoom","viewOnLoad","cMapPacked","cMapUrl","assetsFolder","disableAutoFetch","disableCreateObjectURL","disableFontFace","disableRange","disableStream","isEvalSupported","maxImageSize","pdfBug","postMessageTransfers","verbosity","workerPort","workerSrc","VerbosityLevel","ERRORS","WARNINGS","INFOS","FindState","FOUND","NOT_FOUND","WRAPPED","PENDING","requiredIds","PdfDummyComponentsComponent","addMissingStandardWidgets","_this","dummyComponentsContainer","document","getElementsByClassName","container","children","child","firstChild","removeChild","forEach","id","needsDummyWidget","dummy","createElement","className","appendChild","getElementById","Component","args","selector","template","PDFNotificationService","Injectable","providedIn","onPDFJSInit","Subject","ReplaySubject","pdfjsLib","version","subscribe","PdfCursorTools","SELECT","HAND","ZOOM","PinchOnMobileSupport","isMobile","documentElement","onViewerTouchStart","event","initialPinchDistance","touches","rect","getBoundingClientRect","pageX","left","right","pageY","top","scrollY","bottom","startX","startY","Math","hypot","preventDefault","stopPropagation","onViewerTouchMove","PDFViewerApplicationOptions","PDFViewerApplication","pinchScale","pinchDistance","originX","scrollLeft","originY","scrollTop","minZoom","Number","get","currentZoom","pdfViewer","_currentScale","maxZoom","viewer","style","transform","transformOrigin","onViewerTouchEnd","currentScale","dx","dy","resetPinchZoomParams","initializePinchZoom","_zone","runOutsideAngular","addEventListener","bind","passive","destroyPinchZoom","removeEventListener","ScrollModeType","vertical","horizontal","wrapped","defineProperty","NgxExtendedPdfViewerComponent","url","Uint8Array","_src","buffer","Blob","reader_1","FileReader","onloadend","setTimeout","src","ngxExtendedPdfViewerInitialized","openPDF2","readAsArrayBuffer","console","error","base64","binary_string","atob","len","bytes","charCodeAt","_height","h","minHeight","undefined","height","checkHeight","_showSidebarButton","show","factor","_mobileFriendlyZoom","replace","findbarLeft","toString","_page","zoom","String","mobileFriendlyZoomScale","toolbarWidth","toolbarPaddingTop","showSidebarButton","secondaryToolbarTop","findbarTop","isPrimaryMenuVisible","mobileFriendlyZoom","endsWith","substring","calcViewerPositionTop","viewerPositionTop","iOSVersionRequiresES5","match","appVersion","parseInt","loadViewer","isIE","isIOs12OrBelow","suffix","minifiedJSLibraries","script2","assets","versionSuffix","log","location","normalize","type","async","getElementsByTagName","ngOnInit","link","href","localeFolderPath","setAttribute","rel","elementRef","nativeElement","onResize","isPlatformBrowser","platformId","src_1","script","webViewerLoad","ngAfterViewInit","shuttingDown","doInitPDFViewer","assignTabindexes","startTabindex","r","root","cloneNode","classList","add","showElementsRecursively","elements","collectElementPositions","sorted","sort","a","b","x","element","tabIndex","remove","HTMLButtonElement","HTMLAnchorElement","HTMLInputElement","HTMLSelectElement","childElementCount","c","item","copy","original","elementAndPos","round","langLinks","querySelectorAll","querySelector","useBrowserLocale","attributes","callback","initTimeout","afterLibraryInit","openPDF","delayFirstView","afterPrint","emit","beforePrint","onLoaded","overrideDefaultSettings","enablePinchOnMobile","pinchOnMobileSupport","ngZone","activateTextlayerIfNecessary","primaryMenuVisible","showToolbar","hideKebabMenuForSecondaryToolbar","showSecondaryToolbarButton","dummyComponents","appConfig","filenameForDownload","set","language","pageViewMode","logLevel","isViewerEmbedded","printKeyDownListener","pc","notificationService","clientHeight","mh","innerHeight","onSpreadChange","newSpread","spreadChange","options","textLayer","handTool","showHandToolButton","showFindButton","run","warn","viewFind","findbar","key","setZoom","ignoreKeyboard","ignoreKeys","acceptKeys","scrollMode","sidebarVisible","spread","spreadMode","printResolution","showBorders","ServiceWorkerOptions","showUnverifiedSignatures","hideSidebarToolbar","sidebarComponent","showToolbarWhenNecessary","enablePrint","listenToURL","pdfLinkService","setHash","selectCursorTool","eventBus","on","textLayerRendered","scrollModeChange","mode","progress","pagesLoaded","removeScrollbarInInititeScrollMode","rotation","pagesRotation","nameddest","navigateTo","page","pageLabel","currentPageLabel","pageRendered","fillFormFields","formData","addFormFieldListeners","pdfDownloaded","currentZoomFactor","scale","userZoomFactor","zoomChange","rotationChange","path","fileInput","srcChange","handToolChange","tool","sidebarVisibleChange","view","pdfLoadedEvent","loadComplete","source","pdfDocument","updateFindMatchesCount","state","current","total","matchesCount","updateFindState","currentPage","currentPageNumber","pageChange","pageLabelChange","password","range","httpHeaders","authorization","withCredentials","Authorization","onError","pdfLoadingFailed","open","pdfLoaded","pagesCount","dispatch","ngOnDestroy","clearTimeout","cleanup","close","_boundEvents","unbindWindowEvents","bus","unbindEvents","_listeners","list","topLevelElements","showBookmarkButton","showDownloadButton","showOpenFileButton","showPagingButtons","showPresentationModeButton","showPrintButton","showPropertiesButton","showRotateButton","showScrollingButton","showZoomButtons","ngOnChanges","changes","pdfSidebar","isFirstChange","currentValue","previousValue","zoomEvent","presetValue","_transport","messageHandler","send","newFormData","addMissingFormFields","equals","object1","object2","keys1","keys","keys2","keys1_1","tslib_1.__values","keys1_1_1","keys2_1","keys2_1_1","zoomAsNumber","isNaN","currentScaleValue","width","clientWidth","toolbarWidthInPixels","secondaryToolbarComponent","checkVisibility","observer","ResizeObserver","observe","exception","onContextMenu","contextMenuAllowed","onSecondaryMenuIsEmpty","hideKebabButton","annotationStorage","annotations","getAll","annotation","field","newValue","fieldName","name","checked","buttonValues","setValue","textarea","select","getSelectValue","setSelectValue","field_1","fieldName_1","this_1","emitFormDataChange","textarea_1","fieldName_2","select_1","fieldName_3","multiple","values","selected","Array","isArray","indexOf","HTMLTextAreaElement","formDataChange","pdf","hasSignature","numPages","getPage","getAnnotations","ann","filter","subtype","checkBox","exportValue","radioButton","buttonValue","fieldType","scrollBy","changeDetection","ChangeDetectionStrategy","OnPush","NgZone","Inject","PLATFORM_ID","Location","ElementRef","ViewChild","Input","Output","HostListener","customFindbarButtons","EventEmitter","backgroundColor","theme","showSpreadButton","thumbnailDrawn","zoomLevels","NgxExtendedPdfViewerService","findMultiple","text","findMultipleSearchTexts","searchString","join","find","highlightAllCheckbox","highlightAll","matchCaseCheckbox","matchCase","entireWordCheckbox","wholeWords","findIgnoreAccentsCheckbox","ignoreAccents","multipleSearchTerms","findMultipleSearchTextsCheckbox","individualWordsModeCheckbox","fuzzySearchCheckbox","fuzzySearch","inputField","dispatchEvent","Event","findNext","button","click","findPrevious","print","printRange","alreadyThere","setPrintRange","printPDF","removePrintRange","isInPDFPrintRange","filteredPageCount","pageCount","pageIndex","from","to","excluded","some","included","getPageAsText","pageNumber","pdfPage","getTextContent","textSnippets","convertTextInfoToText","textInfo","items","map","info","str","getPageAsImage","draw","zoomFactor","getViewport","viewport","_a","getPageDrawContext","ctx","canvas","renderContext","canvasContext","clone","render","promise","toDataURL","getContext","alpha","Error","getCurrentDocumentAsBlob","saveDocument","data","getFormData","fieldRect","convertToViewportRectangle","fieldAnnotation","PdfHandToolComponent","onPdfJsInit","isSelected","onClick","subscription","unsubscribe","PdfBookmarkComponent","PdfContextMenuComponent","PdfDocumentPropertiesOverlayComponent","PdfDownloadComponent","PdfFindbarComponent","PdfFindbarMessageContainerComponent","PdfFindbarOptionsOneContainerComponent","PdfFindbarOptionsThreeContainerComponent","PdfFindbarOptionsTwoContainerComponent","PdfFindButtonComponent","PdfFindEntireWordComponent","PdfFindFuzzilyComponent","PdfFindHighlightAllComponent","PdfFindIgnoreAccentsComponent","PdfFindInputAreaComponent","PdfFindMatchCaseComponent","PdfFindbarService","individualWordsMode","multipleSearchTexts","PdfFindMultipleSearchTextsComponent","pdfFindbarService","PdfFindNextComponent","PdfFindPreviousComponent","PdfFindResultsCountComponent","PdfFirstPageComponent","firstPage","updateUIState","disableFirstPage","disabled","PdfLastPageComponent","disableLastPage","lastPage","PdfNextPageComponent","PdfOpenFileComponent","PdfPageNumberComponent","PdfPagingAreaComponent","PdfPresentationModeComponent","PdfPreviousPageComponent","PdfPrintComponent","PdfRotatePageComponent","rotateCW","rotateCCW","disableRotate","button1","button2","clockwise","counterClockwise","PdfSearchInputFieldComponent","PdfSecondaryToolbarComponent","previousButton","disablePreviousPage","nextButton","disableNextPage","visibleButtons","HTMLElement","checkVisibilityRecursively","secondaryMenuIsEmpty","display","contains","getComputedStyle","count","previousPage","nextPage","PdfSidebarComponent","buttons","visible","index","hidden","ref","markForCheck","ChangeDetectorRef","PdfToggleSecondaryToolbarComponent","PdfToggleSidebarComponent","PdfToolbarComponent","PdfZoomDropdownComponent","levels","_zoomLevels","l","valueToZoomLevel","numericalValue","snakeToCamel","dataL10nId","dataL10nArgs","displayValue","percentage","group","toUpperCase","PdfZoomInComponent","PdfZoomOutComponent","PdfZoomToolbarComponent","PdfSelectToolComponent","showSelectToolButton","DynamicCssComponent","xl","lg","md","sm","xs","xxl","injectStyle","scaleFactor","styles","innerHTML","head","parentElement","Renderer2","DOCUMENT","PdfSidebarContentComponent","linkService","pdfThumbnailGeneratorReady","thumbnailViewTemplate","createThumbnail","pdfThumbnailView","thumbPageTitlePromise","inner","split","widthOfRing","canvasWidth","heightOfRing","canvasHeight","newHtml","newElement","createElementFromHTML","anchor","getAnchorUrl","msg","title","onclick","ring","div","thumbnailDrawnEvent","thumbnail","pageId","htmlString","trim","onKeyDown","code","ctrlKey","metaKey","_hideSidebarToolbar","pdfThumbnailGenerator","PdfSidebarToolbarComponent","PdfLightThemeComponent","encapsulation","ViewEncapsulation","None","PdfOriginalComponent","PdfDarkThemeComponent","TranslatePipe","fallback","translate","englishText","l10n","Pipe","isKeyInList","settings","cmd","keycode","keyDef","isKey","cmdDef","toLowerCase","isKeyIgnored","NgxExtendedPdfViewerModule","NgModule","imports","CommonModule","FormsModule","declarations","providers","provide","LocationStrategy","useClass","PathLocationStrategy","PdfDocumentPropertiesExtractor","getDocumentProperties","getMetadata","contentDispositionFilename","metadata","author","Author","creationDate","toDateObject","CreationDate","creator","Creator","keywords","Keywords","linearized","IsLinearized","modificationDate","ModDate","pdfFormatVersion","PDFFormatVersion","producer","Producer","subject","Title","fileName","getDownloadInfo","maybeFileSize","input","matches","pdfDateStringRegex","exec","year","month","day","hour","minute","second","universalTimeRelation","offsetHour","offsetMinute","Date","UTC","RegExp","NONE","SELF","BLANK","PARENT","TOP"],"mappings":"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C,EAAc,CACxBC,OAAM,EACNC,SAAQ,EACRC,MAAK,oECHP,IAAYC,EAAS,CACnBC,MAAK,EACLC,UAAS,EACTC,QAAO,EACPC,QAAO,mGCDHC,EAAc,CAClB,gBACA,WACA,aACA,uBACA,oBACA,WACA,OACA,SACA,UACA,WACA,WACA,QACA,mBACA,WACA,eACA,mBACA,yBACA,kCACA,4BACA,oBACA,iBACA,oBACA,wBACA,YACA,WACA,eACA,gBACA,mBACA,iBACA,iBACA,mBACA,gBACA,aACA,YACA,aACA,qBACA,mBACA,kBACA,sBACA,uBACA,iBACA,kBACA,gBACA,gBACA,cACA,kBACA,gBACA,cACA,kBACA,iBACA,iBACA,UACA,WACA,YACA,qBACA,mBACA,gBACA,iBACA,0BACA,oBACA,UACA,mBACA,eACA,WACA,YACA,kBACA,eACA,WACA,iBACA,iBACA,4BACA,0BACA,gBACA,gBACA,aACA,cACA,eACA,gBACA,oBACA,wBACA,eACA,gBACA,eACA,iBACA,gBACA,kBACA,eACA,eACA,aACA,gBACA,gBACA,gBACA,uBACA,kBACA,aACA,gBACA,eAGFC,GAOSA,EAAA/G,UAAAgH,0BAAP,WAAA,IAAAC,EAAA7G,KACEA,KAAK8G,yBAA2BC,SAASC,uBAAuB,+BAA+B,OACzFC,EAAYjH,KAA6B,yBAC/C,GAAIiH,EACF,IAAK,IAAI1H,EAAI,EAAGA,EAAI0H,EAAUC,SAASxH,OAAQH,IAAK,KAC5C4H,EAAQF,EAAUG,WACpBD,GACFF,EAAUI,YAAYF,GAc5B,GATAT,EAAYY,QAAO,SAACC,GAClB,GAAIV,EAAKW,iBAAiBD,GAAK,KACvBE,EAAQV,SAASW,cAAc,QACrCD,EAAMF,GAAKA,EACXE,EAAME,UAAY,4BAClBd,EAAKC,yBAAyBc,YAAYH,MAI1CzH,KAAKwH,iBAAiB,eAAgB,KAClCC,EAAQV,SAASW,cAAc,UACrCD,EAAMF,GAAK,cACXE,EAAME,UAAY,4BAClB3H,KAAK8G,yBAAyBc,YAAYH,KAItCd,EAAA/G,UAAA4H,iBAAR,SAAyBD,GAEvB,OADeR,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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","const _isIE11 = typeof window === 'undefined' ? false : !!(<any>window).MSInputMethodContext && !!(<any>document).documentMode;\nconst isEdge = /Edge\\/\\d./i.test(navigator.userAgent);\nconst needsES5 = typeof ReadableStream === 'undefined' || typeof Promise['allSettled'] === 'undefined';\n\nexport let pdfjsVersion = '2.6.423';\nexport let pdfjsBleedingEdgeVersion = '2.7.537';\n\nexport function getVersionSuffix(folder: string): string {\n  if (folder && folder.includes('bleeding-edge')) {\n    return pdfjsBleedingEdgeVersion;\n  }\n  return pdfjsVersion;\n}\n\nexport let pdfDefaultOptions = {\n  cursorToolOnLoad: 0,\n  defaultUrl: '',\n  defaultZoomValue: '',\n  disableHistory: false,\n  disablePageLabels: false,\n  enablePrintAutoRotate: false,\n  enableWebGL: false,\n  eventBusDispatchToDOM: false,\n  externalLinkRel: 'noopener noreferrer nofollow',\n  externalLinkTarget: 0,\n  historyUpdateUrl: false,\n  imageResourcesPath: './images/',\n  maxCanvasPixels: 16777216,\n  pdfBugEnabled: false,\n  removePageBorders: false,\n  renderer: 'canvas',\n  renderInteractiveForms: true,\n  sidebarViewOnLoad: -1,\n  scrollModeOnLoad: -1,\n  spreadModeOnLoad: -1,\n  textLayerMode: 1,\n  useOnlyCssZoom: false,\n  viewOnLoad: 0,\n  cMapPacked: true,\n  cMapUrl: () => './' + pdfDefaultOptions.assetsFolder + '/cmaps/',\n  disableAutoFetch: false,\n  disableCreateObjectURL: false,\n  disableFontFace: false,\n  disableRange: false,\n  disableStream: false,\n  isEvalSupported: true,\n  maxImageSize: -1,\n  pdfBug: false,\n  postMessageTransfers: true,\n  verbosity: 1,\n  workerPort: null,\n  assetsFolder: 'assets',\n  workerSrc: () =>\n    _isIE11 || isEdge || needsES5\n      ? './' + pdfDefaultOptions.assetsFolder + '/pdf.worker-' + getVersionSuffix(pdfDefaultOptions.assetsFolder) + '-es5.js'\n      : './' + pdfDefaultOptions.assetsFolder + '/pdf.worker-' + getVersionSuffix(pdfDefaultOptions.assetsFolder) + '.js',\n};\n\nif ((<any>window).pdfDefaultOptions) {\n  pdfDefaultOptions = (<any>window).pdfDefaultOptions;\n} else {\n  (<any>window).pdfDefaultOptions = pdfDefaultOptions;\n}\n","export enum VerbosityLevel {\n  ERRORS = 0,\n  WARNINGS = 1,\n  INFOS = 5\n};\n","export enum FindState {\n  FOUND = 0,\n  NOT_FOUND = 1,\n  WRAPPED = 2,\n  PENDING = 3\n}\n\nexport interface FindResultMatchesCount {\n  current?: number;\n  total?: number;\n}\n\nexport interface FindResult {\n  state: FindState;\n  previous: any;\n  matchesCount: FindResultMatchesCount;\n}\n","import { Component } from '@angular/core';\n\n/** List of all field that can be customized */\nconst requiredIds = [\n  'toolbarViewer',\n  'numPages',\n  'pageNumber',\n  'scaleSelectContainer',\n  'customScaleOption',\n  'previous',\n  'next',\n  'zoomIn',\n  'zoomOut',\n  'viewFind',\n  'openFile',\n  'print',\n  'presentationMode',\n  'download',\n  'viewBookmark',\n  'secondaryToolbar',\n  'secondaryToolbarToggle',\n  'secondaryToolbarButtonContainer',\n  'secondaryPresentationMode',\n  'secondaryOpenFile',\n  'secondaryPrint',\n  'secondaryDownload',\n  'secondaryViewBookmark',\n  'firstPage',\n  'lastPage',\n  'pageRotateCw',\n  'pageRotateCcw',\n  'cursorSelectTool',\n  'cursorHandTool',\n  'scrollVertical',\n  'scrollHorizontal',\n  'scrollWrapped',\n  'spreadNone',\n  'spreadOdd',\n  'spreadEven',\n  'documentProperties',\n  'contextFirstPage',\n  'contextLastPage',\n  'contextPageRotateCw',\n  'contextPageRotateCcw',\n  'outerContainer',\n  'viewerContainer',\n  'sidebarToggle',\n  'viewThumbnail',\n  'viewOutline',\n  'viewAttachments',\n  'thumbnailView',\n  'outlineView',\n  'attachmentsView',\n  'outerContainer',\n  'sidebarResizer',\n  'findbar',\n  'viewFind',\n  'findInput',\n  'findInputMultiline',\n  'findHighlightAll',\n  'findMatchCase',\n  'findEntireWord',\n  'findMultipleSearchTexts',\n  'findIgnoreAccents',\n  'findMsg',\n  'findResultsCount',\n  'findPrevious',\n  'findNext',\n  'findFuzzy',\n  'passwordOverlay',\n  'passwordText',\n  'password',\n  'passwordSubmit',\n  'passwordCancel',\n  'documentPropertiesOverlay',\n  'documentPropertiesClose',\n  'fileNameField',\n  'fileSizeField',\n  'titleField',\n  'authorField',\n  'subjectField',\n  'keywordsField',\n  'creationDateField',\n  'modificationDateField',\n  'creatorField',\n  'producerField',\n  'versionField',\n  'pageCountField',\n  'pageSizeField',\n  'linearizedField',\n  'errorWrapper',\n  'errorMessage',\n  'errorClose',\n  'errorMoreInfo',\n  'errorShowMore',\n  'errorShowLess',\n  'scaleSelectContainer',\n  'viewAttachments',\n  'viewLayers',\n  'viewThumbnail',\n  'viewOutline'\n];\n\n@Component({\n  selector: 'pdf-dummy-components',\n  templateUrl: './pdf-dummy-components.component.html'\n})\nexport class PdfDummyComponentsComponent {\n  private dummyComponentsContainer: Element;\n\n  public addMissingStandardWidgets(): void {\n    this.dummyComponentsContainer = document.getElementsByClassName('dummy-pdf-viewer-components')[0];\n    const container = this.dummyComponentsContainer as HTMLElement;\n    if (container) {\n      for (let i = 0; i < container.children.length; i++) {\n        const child = container.firstChild;\n        if (child) {\n          container.removeChild(child);\n        }\n      }\n    }\n\n    requiredIds.forEach(id => {\n      if (this.needsDummyWidget(id)) {\n        const dummy = document.createElement('span');\n        dummy.id = id;\n        dummy.className = 'invisible dummy-component';\n        this.dummyComponentsContainer.appendChild(dummy);\n      }\n    });\n\n    if (this.needsDummyWidget('scaleSelect')) {\n      const dummy = document.createElement('select');\n      dummy.id = 'scaleSelect';\n      dummy.className = 'invisible dummy-component';\n      this.dummyComponentsContainer.appendChild(dummy);\n    }\n  }\n\n  private needsDummyWidget(id: string): boolean {\n    const widget = document.getElementById(id);\n    if (!widget) {\n      return true;\n    }\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Subject, ReplaySubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PDFNotificationService {\n  // this event is fired when the pdf.js library has been loaded and objects like PDFApplication are available\n  public onPDFJSInit = new Subject<void>();\n\n  public pdfjsVersion = new ReplaySubject<string>(1);\n\n  constructor() {\n    if ((window as any).pdfjsLib && (window as any).pdfjsLib.version) {\n      this.pdfjsVersion.next((window as any).pdfjsLib.version);\n    } else {\n      this.onPDFJSInit.subscribe(() => {\n        this.pdfjsVersion.next((window as any).pdfjsLib.version);\n      });\n    }\n  }\n}\n","export enum PdfCursorTools {\n  SELECT = 0,\n  HAND = 1,\n  ZOOM = 2\n}\n","import { NgZone } from '@angular/core';\nimport { IPDFViewerApplicationOptions } from './options/pdf-viewer-application-options';\n\nexport class PinchOnMobileSupport {\n  private viewer: any;\n  private startX = 0;\n  private startY = 0;\n  private initialPinchDistance = 0;\n  private pinchScale = 1;\n\n  constructor(private _zone: NgZone) {\n    if (this.isMobile()) {\n      this.initializePinchZoom();\n    }\n  }\n\n  private isMobile() {\n    return 'ontouchstart' in document.documentElement;\n  }\n\n  private onViewerTouchStart(event: TouchEvent): void {\n    this.initialPinchDistance = 0;\n\n    if (event.touches.length === 2) {\n      const container = document.getElementById('viewerContainer') as HTMLDivElement;\n      const rect = container.getBoundingClientRect();\n      if (event.touches[0].pageX >= rect.left && event.touches[0].pageX <= rect.right) {\n        if (event.touches[0].pageY >= (rect.top + window.scrollY) && event.touches[0].pageY <= (rect.bottom + window.scrollY)) {\n          if (event.touches[1].pageX >= rect.left && event.touches[1].pageX <= rect.right) {\n            if (event.touches[1].pageY >= (rect.top + window.scrollY) && event.touches[1].pageY <= (rect.bottom + window.scrollY)) {\n              this.startX = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n              this.startY = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n              this.initialPinchDistance = Math.hypot(event.touches[1].pageX - event.touches[0].pageX, event.touches[1].pageY - event.touches[0].pageY);\n              event.preventDefault();\n              event.stopPropagation();\n            }\n          }\n        }\n      }\n    }\n  }\n\n  private onViewerTouchMove(event: TouchEvent): void {\n    const PDFViewerApplicationOptions: IPDFViewerApplicationOptions = (window as any).PDFViewerApplicationOptions;\n    const PDFViewerApplication: any = (window as any).PDFViewerApplication;\n\n    if (this.initialPinchDistance <= 0 || event.touches.length !== 2) {\n      return;\n    }\n    if (this.pinchScale !== 1) {\n      event.preventDefault();\n    }\n    const pinchDistance = Math.hypot(event.touches[1].pageX - event.touches[0].pageX, event.touches[1].pageY - event.touches[0].pageY);\n    const container = document.getElementById('viewerContainer') as HTMLDivElement;\n    const originX = this.startX + container.scrollLeft;\n    const originY = this.startY + container.scrollTop;\n    this.pinchScale = pinchDistance / this.initialPinchDistance;\n    let minZoom = Number(PDFViewerApplicationOptions.get('minZoom'));\n    if (!minZoom) {\n      minZoom = 0.1;\n    }\n\n    const currentZoom = PDFViewerApplication.pdfViewer._currentScale;\n    if (currentZoom * this.pinchScale < minZoom) {\n      this.pinchScale = minZoom / currentZoom;\n    }\n    let maxZoom = Number(PDFViewerApplicationOptions.get('maxZoom'));\n    if (!maxZoom) {\n      maxZoom = 10;\n    }\n    if (currentZoom * this.pinchScale > maxZoom) {\n      this.pinchScale = maxZoom / currentZoom;\n    }\n    this.viewer.style.transform = `scale(${this.pinchScale})`;\n    this.viewer.style.transformOrigin = `${originX}px ${originY}px`;\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  private onViewerTouchEnd(event: TouchEvent): void {\n    const PDFViewerApplication: any = (window as any).PDFViewerApplication;\n    if (this.initialPinchDistance <= 0) {\n      return;\n    }\n    this.viewer.style.transform = `none`;\n    this.viewer.style.transformOrigin = `unset`;\n    PDFViewerApplication.pdfViewer.currentScale *= this.pinchScale;\n    const container = document.getElementById('viewerContainer') as HTMLDivElement;\n    const rect = container.getBoundingClientRect();\n    const dx = this.startX - rect.left;\n    const dy = this.startY - rect.top;\n    container.scrollLeft += dx * (this.pinchScale - 1);\n    container.scrollTop += dy * (this.pinchScale - 1);\n    this.resetPinchZoomParams();\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  private resetPinchZoomParams(): void {\n    this.startX = this.startY = this.initialPinchDistance = 0;\n    this.pinchScale = 1;\n  }\n\n  public initializePinchZoom(): void {\n    this.viewer = document.getElementById('viewer');\n    this._zone.runOutsideAngular(() => {\n      document.addEventListener('touchstart', this.onViewerTouchStart.bind(this));\n      document.addEventListener('touchmove', this.onViewerTouchMove.bind(this), { passive: false });\n      document.addEventListener('touchend', this.onViewerTouchEnd.bind(this));\n    });\n  }\n\n  public destroyPinchZoom(): void {\n    if (this.isMobile()) {\n      document.removeEventListener('touchstart', this.onViewerTouchStart);\n      document.removeEventListener('touchmove', this.onViewerTouchMove);\n      document.removeEventListener('touchend', this.onViewerTouchEnd);\n    }\n  }\n}\n","export enum ScrollModeType {\n  vertical = 0,\n  horizontal = 1,\n  wrapped = 2\n}\n\nexport interface ScrollModeChangedEvent {\n  mode: ScrollModeType;\n}\n\nexport interface IPDFViewer {\n  currentPageLabel: string | undefined;\n  currentPageNumber: number;\n  currentScaleValue: string | number;\n  pagesRotation: 0 | 90 | 180 | 270;\n  removePageBorders: boolean;\n  scrollMode: ScrollModeType;\n  spreadMode: 0 | 1 | 2;\n}\n","import {\n  Component,\n  Input,\n  OnChanges,\n  SimpleChanges,\n  OnDestroy,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy,\n  HostListener,\n  NgZone,\n  TemplateRef,\n  Inject,\n  PLATFORM_ID,\n  ViewChild,\n  OnInit,\n} from '@angular/core';\nimport { PagesLoadedEvent } from './events/pages-loaded-event';\nimport { PageRenderedEvent } from './events/page-rendered-event';\nimport { PdfDownloadedEvent } from './events/pdf-downloaded-event';\nimport { PdfLoadedEvent } from './events/pdf-loaded-event';\nimport { getVersionSuffix, pdfDefaultOptions } from './options/pdf-default-options';\nimport { ScaleChangingEvent } from './events/scale-changing-event';\nimport { PagesRotationEvent } from './events/pages-rotation-event';\nimport { FileInputChanged } from './events/file-input-changed';\nimport { SidebarviewChange } from './events/sidebarview-changed';\nimport { HandtoolChanged } from './events/handtool-changed';\nimport { PageNumberChange } from './events/page-number-change';\nimport { ServiceWorkerOptionsType } from './options/service-worker-options';\nimport { VerbosityLevel } from './options/verbosity-level';\nimport { FindState, FindResultMatchesCount, FindResult } from './events/find-result';\nimport { isPlatformBrowser } from '@angular/common';\nimport { PdfDummyComponentsComponent } from './pdf-dummy-components/pdf-dummy-components.component';\nimport { AfterViewInit, ElementRef } from '@angular/core';\nimport { IPDFViewerApplication } from './options/pdf-viewer-application';\nimport { IPDFViewerApplicationOptions } from './options/pdf-viewer-application-options';\nimport { PdfSecondaryToolbarComponent } from './secondary-toolbar/pdf-secondary-toolbar/pdf-secondary-toolbar.component';\nimport { PDFNotificationService } from './pdf-notification-service';\nimport { PdfCursorTools } from './options/pdf-cursor-tools';\nimport { TextLayerRenderedEvent } from './events/textlayer-rendered';\nimport { Location } from '@angular/common';\nimport { PinchOnMobileSupport } from './pinch-on-mobile-support';\nimport { PdfThumbnailDrawnEvent } from './events/pdf-thumbnail-drawn-event';\nimport { PdfSidebarComponent } from './sidebar/pdf-sidebar/pdf-sidebar.component';\nimport { ScrollModeChangedEvent, ScrollModeType } from './options/pdf-viewer';\nimport { PdfDocumentLoadedEvent } from './events/document-loaded-event';\nimport { ProgressBarEvent } from './events/progress-bar-event';\n\ndeclare const ServiceWorkerOptions: ServiceWorkerOptionsType; // defined in viewer.js\n\ndeclare class ResizeObserver {\n  constructor(param: () => void);\n  public observe(div: HTMLElement);\n}\n\ninterface ElementAndPosition {\n  element: HTMLElement;\n  x: number;\n  y: number;\n}\n\nexport interface FormDataType {\n  [fieldName: string]: string | string[];\n}\n\n@Component({\n  selector: 'ngx-extended-pdf-viewer',\n  templateUrl: './ngx-extended-pdf-viewer.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NgxExtendedPdfViewerComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\n  public static ngxExtendedPdfViewerInitialized = false;\n\n  /**\n   * The dummy components are inserted automatically when the user customizes the toolbar\n   * without adding every original toolbar item. Without the dummy components, the\n   * initialization code of pdf.js crashes because it assume that every standard widget is there.\n   */\n  @ViewChild(PdfDummyComponentsComponent)\n  public dummyComponents: PdfDummyComponentsComponent;\n\n  @ViewChild('root')\n  public root: ElementRef;\n\n  private pinchOnMobileSupport: PinchOnMobileSupport | undefined;\n\n  /* UI templates */\n  @Input()\n  public customFindbarInputArea: TemplateRef<any>;\n\n  @Input()\n  public customToolbar: TemplateRef<any>;\n\n  @Input()\n  public customFindbar: TemplateRef<any>;\n\n  @Input()\n  public customFindbarButtons: TemplateRef<any> | undefined = undefined;\n\n  @Input()\n  public customSecondaryToolbar: TemplateRef<any>;\n\n  @Input()\n  public customSidebar: TemplateRef<any>;\n\n  @Input()\n  public customThumbnail: TemplateRef<any>;\n\n  @Input()\n  public customFreeFloatingBar: TemplateRef<any>;\n\n  @Input()\n  public formData: FormDataType = {};\n\n  @Output()\n  public formDataChange = new EventEmitter<FormDataType>();\n\n  @Input()\n  public pageViewMode: 'single' | 'book' | 'multiple' | 'infinite-scroll' = 'multiple';\n\n  @Output()\n  public progress = new EventEmitter<ProgressBarEvent>();\n\n  @ViewChild('pdfSecondaryToolbarComponent')\n  private secondaryToolbarComponent: PdfSecondaryToolbarComponent;\n\n  @ViewChild('pdfsidebar')\n  private sidebarComponent: PdfSidebarComponent;\n\n  /* regular attributes */\n\n  private _src: string | ArrayBuffer | { range: any };\n\n  @Output()\n  public srcChange = new EventEmitter<string>();\n\n  @Input()\n  public scrollMode: ScrollModeType | undefined = undefined;\n\n  @Output()\n  public scrollModeChange = new EventEmitter<ScrollModeType>();\n\n  @Input()\n  public authorization: Object | undefined = undefined;\n\n  @Input()\n  public httpHeaders: Object | undefined = undefined;\n\n  @Input()\n  public contextMenuAllowed = true;\n\n  @Output()\n  public afterPrint = new EventEmitter<void>();\n\n  @Output()\n  public beforePrint = new EventEmitter<void>();\n\n  @Output()\n  public currentZoomFactor = new EventEmitter<number>();\n\n  @Input()\n  public enablePrint = true;\n\n  /**\n   * Number of milliseconds to wait between initializing the PDF viewer and loading the PDF file.\n   * Most users can let this parameter safely at it's default value of zero.\n   * Set this to 1000 or higher if you run into timing problems (typically caused by loading the locale files\n   * after the PDF files, so they are not available when the PDF viewer is initialized).\n   */\n  @Input()\n  public delayFirstView = 0;\n\n  /** store the timeout id so it can be canceled if user leaves the page before the PDF is shown */\n  private initTimeout: any;\n\n  /** How many log messages should be printed?\n   * Legal values: VerbosityLevel.INFOS (= 5), VerbosityLevel.WARNINGS (= 1), VerbosityLevel.ERRORS (= 0) */\n  @Input()\n  public logLevel = VerbosityLevel.WARNINGS;\n\n  @Input()\n  public enablePinchOnMobile = false;\n\n  /** Use the minified (minifiedJSLibraries=\"true\", which is the default) or the user-readable pdf.js library (minifiedJSLibraries=\"false\") */\n  @Input()\n  public minifiedJSLibraries = true;\n\n  public primaryMenuVisible = true;\n\n  /** option to increase (or reduce) print resolution. Default is 150 (dpi). Sensible values\n   * are 300, 600, and 1200. Note the increase memory consumption, which may even result in a browser crash. */\n  @Input()\n  public printResolution = null;\n\n  @Input()\n  public rotation: 0 | 90 | 180 | 270;\n\n  @Output()\n  public rotationChange = new EventEmitter<0 | 90 | 180 | 270>();\n\n  public hasSignature: boolean;\n\n  @Input()\n  public set src(url: string | ArrayBuffer | Blob | Uint8Array | { range: any }) {\n    if (url instanceof Uint8Array) {\n      this._src = url.buffer;\n    } else if (url instanceof Blob) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setTimeout(() => {\n          this.src = new Uint8Array(reader.result as ArrayBuffer);\n          if (NgxExtendedPdfViewerComponent.ngxExtendedPdfViewerInitialized) {\n            this.openPDF2();\n            // else openPDF is called later, so we should load the PDF file twice\n          }\n        });\n      };\n      reader.readAsArrayBuffer(url);\n    } else if (typeof url === 'string') {\n      this._src = url;\n      if (url.length > 980) {\n        // minimal length of a base64 encoded PDF\n        if (url.length % 4 === 0) {\n          if (/^[a-zA-Z\\d\\/+]+={0,2}$/.test(url)) {\n            console.error('The URL looks like a base64 encoded string. If so, please use the attribute [base64Src] instead of [src]');\n          }\n        }\n      }\n    } else {\n      this._src = url;\n    }\n  }\n\n  @Input()\n  public set base64Src(base64: string) {\n    const binary_string = window.atob(base64);\n    const len = binary_string.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n      bytes[i] = binary_string.charCodeAt(i);\n    }\n    this.src = bytes.buffer;\n  }\n\n  public minHeight: string | undefined = undefined;\n\n  private _height = '100%';\n\n  @Input()\n  public set height(h: string) {\n    this.minHeight = undefined;\n    if (h) {\n      this._height = h;\n    } else {\n      this.height = '100%';\n    }\n    setTimeout(() => {\n      this.checkHeight();\n    });\n  }\n\n  public get height() {\n    return this._height;\n  }\n\n  /**\n   * If this flag is true, this components adds a link to the locale assets. The pdf viewer\n   * sees this link and uses it to load the locale files automatically.\n   * @param useBrowserLocale boolean\n   */\n  @Input()\n  public useBrowserLocale = false;\n\n  @Input()\n  public backgroundColor = '#e8e8eb';\n\n  /** Allows the user to define the name of the file after clicking \"download\" */\n  @Input()\n  public filenameForDownload = 'document.pdf';\n\n  /** Allows the user to disable the keyboard bindings completely */\n  @Input()\n  public ignoreKeyboard = false;\n\n  /** Allows the user to disable a list of key bindings. */\n  @Input()\n  public ignoreKeys: Array<string> = [];\n\n  /** Allows the user to enable a list of key bindings explicitly. If this property is set, every other key binding is ignored. */\n  @Input()\n  public acceptKeys: Array<string> = [];\n\n  /** Allows the user to put the viewer's svg images into an arbitrary folder */\n  @Input()\n  public imageResourcesPath = './' + pdfDefaultOptions.assetsFolder + '/images/';\n\n  /** Allows the user to put their locale folder into an arbitrary folder */\n  @Input()\n  public localeFolderPath = './' + pdfDefaultOptions.assetsFolder + '/locale';\n\n  /** Override the default locale. This must be the complete locale name, such as \"es-ES\". The string is allowed to be all lowercase.\n   */\n  @Input()\n  public language: string | undefined = undefined;\n\n  /** By default, listening to the URL is deactivated because often the anchor tag is used for the Angular router */\n  @Input()\n  public listenToURL = false;\n\n  /** Navigate to a certain \"named destination\" */\n  @Input()\n  public nameddest: string | undefined = undefined;\n\n  /** allows you to pass a password to read password-protected files */\n  @Input()\n  public password: string | undefined = undefined;\n\n  public _showSidebarButton = true;\n\n  public viewerPositionTop = '32px';\n\n  /** pdf.js can show signatures, but fails to verify them. So they are switched off by default.\n   * Set \"[showUnverifiedSignatures]\"=\"true\" to display e-signatures nonetheless.\n   */\n  @Input()\n  public showUnverifiedSignatures = false;\n\n  @Input()\n  public startTabindex: number | undefined;\n\n  public get showSidebarButton() {\n    return this._showSidebarButton;\n  }\n  @Input()\n  public set showSidebarButton(show: boolean) {\n    this._showSidebarButton = show;\n    const isIE = /msie\\s|trident\\//i.test(window.navigator.userAgent);\n    let factor = 1;\n    if (isIE) {\n      factor = Number((this._mobileFriendlyZoom || '100').replace('%', '')) / 100;\n    }\n\n    if (this._showSidebarButton) {\n      this.findbarLeft = (68 * factor).toString() + 'px';\n    } else {\n      this.findbarLeft = '0px';\n    }\n  }\n\n  @Input()\n  public sidebarVisible: boolean | undefined = undefined;\n\n  @Output()\n  public sidebarVisibleChange = new EventEmitter<boolean>();\n\n  @Input()\n  public showFindButton: boolean | undefined = undefined;\n  @Input()\n  public showPagingButtons = true;\n  @Input()\n  public showZoomButtons = true;\n  @Input()\n  public showPresentationModeButton = false;\n  @Input()\n  public showOpenFileButton = true;\n  @Input()\n  public showPrintButton = true;\n  @Input()\n  public showDownloadButton = true;\n  @Input()\n  public showBookmarkButton = true;\n\n  @Input()\n  public theme: 'dark' | 'light' | 'custom' = 'light';\n\n  @Input()\n  public showToolbar = true;\n\n  @Input()\n  public showSecondaryToolbarButton = true;\n\n  /** Set by the event (secondaryMenuIsEmpty) */\n  public hideKebabMenuForSecondaryToolbar = false;\n\n  @Input()\n  public showRotateButton = true;\n  @Input()\n  public handTool = true;\n  @Output()\n  public handToolChange = new EventEmitter<boolean>();\n  @Input()\n  public showHandToolButton = false;\n  @Input()\n  public showScrollingButton = true;\n  @Input()\n  public showSpreadButton = true;\n  @Input()\n  public showPropertiesButton = true;\n  @Input()\n  public showBorders = true;\n\n  @Input()\n  public spread: 'off' | 'even' | 'odd';\n\n  @Output()\n  public spreadChange = new EventEmitter<'off' | 'even' | 'odd'>();\n\n  @Output()\n  public thumbnailDrawn = new EventEmitter<PdfThumbnailDrawnEvent>();\n\n  private _page: number | undefined = undefined;\n\n  public get page(): number | undefined {\n    return this._page;\n  }\n\n  @Input()\n  public set page(p: number | undefined) {\n    if (p) {\n      // silently cope with strings\n      this._page = Number(p);\n    } else {\n      this._page = undefined;\n    }\n  }\n\n  @Output()\n  public pageChange = new EventEmitter<number | undefined>();\n\n  @Input()\n  public pageLabel: string | undefined = undefined;\n\n  @Output()\n  public pageLabelChange = new EventEmitter<string | undefined>();\n\n  @Output()\n  public pagesLoaded = new EventEmitter<PagesLoadedEvent>();\n\n  @Output()\n  public pageRendered = new EventEmitter<PageRenderedEvent>();\n\n  @Output()\n  public pdfDownloaded = new EventEmitter<PdfDownloadedEvent>();\n\n  @Output()\n  public pdfLoaded = new EventEmitter<PdfLoadedEvent>();\n\n  @Output()\n  public pdfLoadingFailed = new EventEmitter<Error>();\n\n  @Input()\n  public textLayer: boolean | undefined = undefined;\n\n  @Output()\n  public textLayerRendered = new EventEmitter<TextLayerRenderedEvent>();\n\n  @Output()\n  public updateFindMatchesCount = new EventEmitter<FindResultMatchesCount>();\n\n  @Output()\n  public updateFindState = new EventEmitter<FindState>();\n\n  /** Legal values: undefined, 'auto', 'page-actual', 'page_fit', 'page-width', or '50' (or any other percentage) */\n  @Input()\n  public zoom: string | number | undefined = undefined;\n\n  @Output()\n  public zoomChange = new EventEmitter<string | number | undefined>();\n\n  @Input()\n  public zoomLevels = ['auto', 'page-actual', 'page-fit', 'page-width', 0.5, 1, 1.25, 1.5, 2, 3, 4];\n\n  @Input()\n  public maxZoom = 10;\n\n  @Input()\n  public minZoom = 0.1;\n\n  /** This attributes allows you to increase the size of the UI elements so you can use them on small mobile devices.\n   * This attribute is a string with a percent character at the end (e.g. \"150%\").\n   */\n  @Input() _mobileFriendlyZoom = '100%';\n\n  public mobileFriendlyZoomScale = 1;\n\n  public toolbarPaddingTop = '0px';\n\n  public toolbarWidth = '100%';\n\n  public toolbarWidthInPixels = 100;\n\n  public secondaryToolbarTop: string | undefined = undefined;\n\n  // dirty IE11 hack - temporary solution\n  public findbarTop: string | undefined = undefined;\n\n  // dirty IE11 hack - temporary solution\n  public findbarLeft: string | undefined = undefined;\n\n  // Additional PDF Form Field Types #567: Used to store the exported values of radio and checkbox buttons\n  public buttonValues: any = {};\n\n  public get mobileFriendlyZoom() {\n    return this._mobileFriendlyZoom;\n  }\n  /**\n   * This attributes allows you to increase the size of the UI elements so you can use them on small mobile devices.\n   * This attribute is a string with a percent character at the end (e.g. \"150%\").\n   */\n  @Input()\n  public set mobileFriendlyZoom(zoom: string) {\n    // tslint:disable-next-line:triple-equals - the type conversion is intended\n    if (zoom == 'true') {\n      zoom = '150%';\n      // tslint:disable-next-line:triple-equals - the type conversion is intended\n    } else if (zoom == 'false' || zoom === undefined || zoom === null) {\n      zoom = '100%';\n    }\n    this._mobileFriendlyZoom = zoom;\n    let factor = 1;\n    if (!String(zoom).includes('%')) {\n      zoom = 100 * Number(zoom) + '%';\n    }\n    factor = Number((zoom || '100').replace('%', '')) / 100;\n    this.mobileFriendlyZoomScale = factor;\n    this.toolbarWidth = (100 / factor).toString() + '%';\n    this.toolbarPaddingTop = (factor - 1) * 8 + 'px';\n    if (this.showSidebarButton) {\n      this.findbarLeft = (68 * factor).toString() + 'px';\n    } else {\n      this.findbarLeft = '0px';\n    }\n    this.secondaryToolbarTop = (36 + 36 * (factor - 1)).toString() + 'px';\n    this.findbarTop = (36 + 52 * (factor - 1)).toString() + 'px';\n  }\n\n  private shuttingDown = false;\n\n  public get sidebarPositionTop(): string {\n    if (!this.isPrimaryMenuVisible()) {\n      return '0';\n    }\n    if (this.mobileFriendlyZoom) {\n      if (this.mobileFriendlyZoom.endsWith('%')) {\n        const zoom = Number(this.mobileFriendlyZoom.substring(0, this.mobileFriendlyZoom.length - 1));\n        return (2 + 0.29 * zoom).toString() + 'px';\n      }\n      if (this.mobileFriendlyZoom.endsWith('px')) {\n        return this.mobileFriendlyZoom;\n      }\n      return (16 + 0.16 * Number(this.mobileFriendlyZoom)).toString() + 'px';\n    }\n    return '32px';\n  }\n  public calcViewerPositionTop(): void {\n    if (!this.isPrimaryMenuVisible()) {\n      this.viewerPositionTop = '0';\n      return;\n    }\n    if (this.mobileFriendlyZoom) {\n      if (this.mobileFriendlyZoom.endsWith('%')) {\n        const zoom = Number(this.mobileFriendlyZoom.substring(0, this.mobileFriendlyZoom.length - 1));\n        if (!this.isPrimaryMenuVisible()) {\n          this.viewerPositionTop = '0';\n        } else {\n          this.viewerPositionTop = (1 + 0.32 * zoom).toString() + 'px';\n        }\n        return;\n      }\n      if (this.mobileFriendlyZoom.endsWith('px')) {\n        this.viewerPositionTop = this.mobileFriendlyZoom;\n        return;\n      }\n    }\n    this.viewerPositionTop = '32px';\n  }\n\n  constructor(\n    private ngZone: NgZone,\n    @Inject(PLATFORM_ID) private platformId,\n    private notificationService: PDFNotificationService,\n    private location: Location,\n    private elementRef: ElementRef\n  ) {}\n\n  private iOSVersionRequiresES5(): boolean {\n    const match = navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    if (match !== undefined && match !== null) {\n      return parseInt(match[1], 10) < 13;\n    }\n\n    return false;\n  }\n\n  private loadViewer(): void {\n    if (!window['pdfjs-dist/build/pdf']) {\n      setTimeout(() => this.loadViewer(), 25);\n    } else {\n      const isIE = !!(<any>window).MSInputMethodContext && !!(<any>document).documentMode;\n      const isEdge = /Edge\\/\\d./i.test(navigator.userAgent);\n      const isIOs12OrBelow = this.iOSVersionRequiresES5();\n      const needsES5 = typeof ReadableStream === 'undefined' || typeof Promise['allSettled'] === 'undefined';\n      const suffix = this.minifiedJSLibraries ? '.min.js' : '.js';\n      const script2 = document.createElement('script');\n      const assets = pdfDefaultOptions.assetsFolder;\n      const versionSuffix = getVersionSuffix(assets);\n\n      if (needsES5) {\n        console.log('Using the ES5 version of the PDF viewer.');\n      }\n\n      script2.src = this.location.normalize(\n        isIE || isEdge || isIOs12OrBelow || needsES5 ? assets + '/viewer-' + versionSuffix + '-es5' + suffix : assets + '/viewer-' + versionSuffix + suffix\n      );\n      script2.type = 'text/javascript';\n      script2.async = true;\n      document.getElementsByTagName('head')[0].appendChild(script2);\n    }\n  }\n\n  ngOnInit() {\n    const link = document.createElement('link');\n    link.href = this.localeFolderPath + '/locale.properties';\n    link.setAttribute('origin', 'ngx-extended-pdf-viewer');\n    link.rel = 'resource';\n    link.type = 'application/l10n';\n    const widget: HTMLElement = this.elementRef.nativeElement;\n    widget.appendChild(link);\n\n    this.onResize();\n    if (isPlatformBrowser(this.platformId)) {\n      if (!window['pdfjs-dist/build/pdf']) {\n        const isIE = !!(<any>window).MSInputMethodContext && !!(<any>document).documentMode;\n        const isEdge = /Edge\\/\\d./i.test(navigator.userAgent);\n        const needsES5 = typeof ReadableStream === 'undefined' || typeof Promise['allSettled'] === 'undefined';\n        const isIOs12OrBelow = this.iOSVersionRequiresES5();\n        const suffix = this.minifiedJSLibraries ? '.min.js' : '.js';\n        if (this.minifiedJSLibraries) {\n          if (!pdfDefaultOptions.workerSrc().endsWith('.min.js')) {\n            const src = pdfDefaultOptions.workerSrc();\n            pdfDefaultOptions.workerSrc = () => src.replace('.js', '.min.js');\n          }\n        }\n\n        const assets = pdfDefaultOptions.assetsFolder;\n        const versionSuffix = getVersionSuffix(assets);\n        const script = document.createElement('script');\n        script.src = this.location.normalize(\n          isIE || isEdge || isIOs12OrBelow || needsES5 ? assets + '/pdf-' + versionSuffix + '-es5' + suffix : assets + '/pdf-' + versionSuffix + suffix\n        );\n        script.type = 'text/javascript';\n        script.async = true;\n        document.getElementsByTagName('head')[0].appendChild(script);\n      }\n      if (!(window as any).webViewerLoad) {\n        this.loadViewer();\n      }\n    }\n  }\n\n  ngAfterViewInit() {\n    if (!this.shuttingDown) {\n      // hurried users sometimes reload the PDF before it has finished initializing\n      if ((window as any).webViewerLoad) {\n        this.doInitPDFViewer();\n      } else {\n        setTimeout(() => this.ngAfterViewInit(), 50);\n      }\n    }\n  }\n\n  private assignTabindexes() {\n    if (this.startTabindex) {\n      const r = this.root.nativeElement.cloneNode(true) as HTMLElement;\n      r.classList.add('offscreen');\n      this.showElementsRecursively(r);\n      document.body.appendChild(r);\n      const elements = this.collectElementPositions(r, this.root.nativeElement, []);\n      document.body.removeChild(r);\n      const sorted = elements.sort((a, b) => {\n        if (a.y - b.y > 15) {\n          return 1;\n        }\n        if (b.y - a.y > 15) {\n          return -1;\n        }\n        return a.x - b.x;\n      });\n      for (let i = 0; i < sorted.length; i++) {\n        sorted[i].element.tabIndex = this.startTabindex + i;\n      }\n    }\n  }\n\n  private showElementsRecursively(root: Element): void {\n    root.classList.remove('hidden');\n    root.classList.remove('invisible');\n    root.classList.remove('hiddenXXLView');\n    root.classList.remove('hiddenXLView');\n    root.classList.remove('hiddenLargeView');\n    root.classList.remove('hiddenMediumView');\n    root.classList.remove('hiddenSmallView');\n    root.classList.remove('hiddenTinyView');\n    root.classList.remove('visibleXXLView');\n    root.classList.remove('visibleXLView');\n    root.classList.remove('visibleLargeView');\n    root.classList.remove('visibleMediumView');\n    root.classList.remove('visibleSmallView');\n    root.classList.remove('visibleTinyView');\n\n    if (root instanceof HTMLButtonElement || root instanceof HTMLAnchorElement || root instanceof HTMLInputElement || root instanceof HTMLSelectElement) {\n      return;\n    } else if (root.childElementCount > 0) {\n      for (let i = 0; i < root.childElementCount; i++) {\n        const c = root.children.item(i);\n        if (c) {\n          this.showElementsRecursively(c);\n        }\n      }\n    }\n  }\n\n  private collectElementPositions(copy: Element, original: Element, elements: Array<ElementAndPosition>): Array<ElementAndPosition> {\n    if (copy instanceof HTMLButtonElement || copy instanceof HTMLAnchorElement || copy instanceof HTMLInputElement || copy instanceof HTMLSelectElement) {\n      const rect = copy.getBoundingClientRect();\n      const elementAndPos = {\n        element: original,\n        x: Math.round(rect.left),\n        y: Math.round(rect.top),\n      } as ElementAndPosition;\n      elements.push(elementAndPos);\n    } else if (copy.childElementCount > 0) {\n      for (let i = 0; i < copy.childElementCount; i++) {\n        const c = copy.children.item(i);\n        const o = original.children.item(i);\n        if (c && o) {\n          elements = this.collectElementPositions(c, o, elements);\n        }\n      }\n    }\n    return elements;\n  }\n\n  private doInitPDFViewer() {\n    const langLinks = document.querySelectorAll('link[type=\"application/l10n\"]');\n    const langCount = langLinks.length;\n\n    if (langCount === 0) {\n      const dict = document.querySelector('script[type=\"application/l10n\"]');\n      if (!dict) {\n        if (!this.useBrowserLocale) {\n          console.error(\n            // tslint:disable-next-line:quotemark\n            \"If you set the attribute 'useBrowserLocale' to false, you must provide the translations yourself in a script or link tag.\"\n          );\n          console.error('The easiest way to do this is to add them to the index.html.');\n        }\n      } else if (this.useBrowserLocale) {\n        console.error(\n          // tslint:disable-next-line:quotemark\n          \"Please set the attribute 'useBrowserLocale' to false if you provide the translations yourself in a script or link tag.\"\n        );\n      }\n    } else if (this.useBrowserLocale) {\n      const o = langLinks[0].attributes['origin'];\n      if (o && o.value !== 'ngx-extended-pdf-viewer') {\n        console.error(\n          // tslint:disable-next-line:quotemark\n          \"Please set the attribute 'useBrowserLocale' to false if you provide the translations yourself in a script or link tag.\"\n        );\n      }\n    }\n    const callback = (e) => {\n      document.removeEventListener('localized', callback);\n      this.initTimeout = setTimeout(() => {\n        if (!this.shuttingDown) {\n          // hurried users sometimes reload the PDF before it has finished initializing\n          this.afterLibraryInit();\n          this.openPDF();\n          this.assignTabindexes();\n        }\n      }, this.delayFirstView);\n    };\n\n    window.addEventListener('afterprint', (event) => {\n      this.afterPrint.emit();\n    });\n\n    window.addEventListener('beforeprint', (event) => {\n      this.beforePrint.emit();\n    });\n\n    document.addEventListener('localized', callback);\n\n    if (NgxExtendedPdfViewerComponent.ngxExtendedPdfViewerInitialized) {\n      // tslint:disable-next-line:quotemark\n      console.error(\"You're trying to open two instances of the PDF viewer. Most likely, this will result in errors.\");\n    }\n    const onLoaded = () => {\n      this.overrideDefaultSettings();\n      document.removeEventListener('webviewerloaded', onLoaded);\n      if (this.enablePinchOnMobile) {\n        this.pinchOnMobileSupport = new PinchOnMobileSupport(this.ngZone);\n      }\n    };\n    document.addEventListener('webviewerloaded', onLoaded);\n\n    this.activateTextlayerIfNecessary(null);\n\n    setTimeout(() => {\n      if (!this.shuttingDown) {\n        // hurried users sometimes reload the PDF before it has finished initializing\n        // This initializes the webviewer, the file may be passed in to it to initialize the viewer with a pdf directly\n        this.primaryMenuVisible = this.showToolbar;\n        const hideSecondaryMenu = this.hideKebabMenuForSecondaryToolbar && !this.showSecondaryToolbarButton;\n\n        if (hideSecondaryMenu) {\n          if (!this.isPrimaryMenuVisible()) {\n            this.primaryMenuVisible = false;\n          }\n        }\n        this.calcViewerPositionTop();\n        this.dummyComponents.addMissingStandardWidgets();\n        (<any>window).webViewerLoad();\n\n        const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n        PDFViewerApplication.appConfig.defaultUrl = ''; // IE bugfix\n        PDFViewerApplication.appConfig.filenameForDownload = this.filenameForDownload;\n        const PDFViewerApplicationOptions: IPDFViewerApplicationOptions = (window as any).PDFViewerApplicationOptions;\n\n        PDFViewerApplicationOptions.set('locale', this.language);\n        PDFViewerApplicationOptions.set('imageResourcesPath', this.imageResourcesPath);\n        PDFViewerApplicationOptions.set('minZoom', this.minZoom);\n        PDFViewerApplicationOptions.set('maxZoom', this.maxZoom);\n        PDFViewerApplicationOptions.set('pageViewMode', this.pageViewMode);\n        PDFViewerApplicationOptions.set('verbosity', this.logLevel);\n        PDFViewerApplicationOptions.set('initialZoom', this.zoom);\n\n        PDFViewerApplication.isViewerEmbedded = true;\n        if (PDFViewerApplication.printKeyDownListener) {\n          window.addEventListener('keydown', PDFViewerApplication.printKeyDownListener, true);\n        }\n\n        const pc = document.getElementById('printContainer');\n        if (pc) {\n          document.getElementsByTagName('body')[0].appendChild(pc);\n        }\n      }\n    }, 0);\n  }\n\n  /** Notifies every widget that implements onLibraryInit() that the PDF viewer objects are available */\n  private afterLibraryInit() {\n    this.notificationService.onPDFJSInit.next();\n  }\n\n  public checkHeight(): void {\n    const container = document.getElementsByClassName('zoom')[0];\n    if (container) {\n      if (container.clientHeight === 0 && this._height.includes('%')) {\n        const available = window.innerHeight;\n        const rect = container.getBoundingClientRect();\n        const top = rect.top;\n        let mh = available - top;\n        const factor = Number(this._height.replace('%', ''));\n        mh = (mh * factor) / 100;\n        if (mh > 100) {\n          this.minHeight = mh + 'px';\n        } else {\n          this.minHeight = '100px';\n        }\n      }\n    }\n  }\n\n  public onSpreadChange(newSpread: 'off' | 'even' | 'odd'): void {\n    this.spreadChange.emit(newSpread);\n  }\n\n  private activateTextlayerIfNecessary(options: any): void {\n    if (this.textLayer === undefined) {\n      if (!this.handTool) {\n        if (options) {\n          options.set('textLayerMode', 1);\n        }\n        this.textLayer = true;\n        if (this.showFindButton === undefined) {\n          this.showFindButton = true;\n          setTimeout(() => {\n            // todo remove this hack:\n            const viewFind = document.getElementById('viewFind') as HTMLElement;\n            if (viewFind) {\n              viewFind.classList.remove('invisible');\n            }\n            const findbar = document.getElementById('findbar') as HTMLElement;\n            if (findbar) {\n              findbar.classList.remove('invisible');\n            }\n          });\n        }\n      } else {\n        if (options) {\n          options.set('textLayerMode', this.showHandToolButton ? 1 : 0);\n        }\n        if (!this.showHandToolButton) {\n          if (this.showFindButton || this.showFindButton === undefined) {\n            this.ngZone.run(() => {\n              this.showFindButton = false;\n            });\n            if (this.logLevel >= VerbosityLevel.WARNINGS) {\n              console.warn(\n                // tslint:disable-next-line:max-line-length\n                'Hiding the \"find\" button because the text layer of the PDF file is not rendered. Use [textLayer]=\"true\" to enable the find button.'\n              );\n            }\n          }\n          if (this.showHandToolButton) {\n            if (this.logLevel >= VerbosityLevel.WARNINGS) {\n              console.warn(\n                // tslint:disable-next-line:max-line-length\n                'Hiding the \"hand tool / selection mode\" menu because the text layer of the PDF file is not rendered. Use [textLayer]=\"true\" to enable the the menu items.'\n              );\n              this.showHandToolButton = false;\n            }\n          }\n        }\n      }\n    } else {\n      if (this.textLayer) {\n        if (options) {\n          options.set('textLayerMode', 1);\n        }\n        this.textLayer = true;\n        if (this.showFindButton === undefined) {\n          this.showFindButton = true;\n          setTimeout(() => {\n            // todo remove this hack:\n            const viewFind = document.getElementById('viewFind') as HTMLElement;\n            if (viewFind) {\n              viewFind.classList.remove('invisible');\n            }\n            const findbar = document.getElementById('findbar') as HTMLElement;\n            if (findbar) {\n              findbar.classList.remove('invisible');\n            }\n          });\n        }\n      } else {\n        if (options) {\n          options.set('textLayerMode', 0);\n        }\n        this.textLayer = false;\n        if (this.showFindButton) {\n          if (this.logLevel >= VerbosityLevel.WARNINGS) {\n            // tslint:disable-next-line:max-line-length\n            console.warn('Hiding the \"find\" button because the text layer of the PDF file is not rendered. Use [textLayer]=\"true\" to enable the find button.');\n            this.ngZone.run(() => {\n              this.showFindButton = false;\n            });\n          }\n        }\n        if (this.showHandToolButton) {\n          if (this.logLevel >= VerbosityLevel.WARNINGS) {\n            console.warn(\n              // tslint:disable-next-line:max-line-length\n              'Hiding the \"hand tool / selection mode\" menu because the text layer of the PDF file is not rendered. Use [textLayer]=\"true\" to enable the the menu items.'\n            );\n            this.showHandToolButton = false;\n          }\n        }\n      }\n    }\n  }\n\n  private overrideDefaultSettings() {\n    const options = (window as any).PDFViewerApplicationOptions as IPDFViewerApplicationOptions;\n    // tslint:disable-next-line:forin\n    for (const key in pdfDefaultOptions) {\n      options.set(key, pdfDefaultOptions[key]);\n    }\n    options.set('disablePreferences', true);\n    this.setZoom();\n\n    options.set('ignoreKeyboard', this.ignoreKeyboard);\n    options.set('ignoreKeys', this.ignoreKeys);\n    options.set('acceptKeys', this.acceptKeys);\n    this.activateTextlayerIfNecessary(options);\n\n    if (this.scrollMode || this.scrollMode === ScrollModeType.vertical) {\n      options.set('scrollModeOnLoad', this.scrollMode);\n    }\n\n    const sidebarVisible = this.sidebarVisible;\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n\n    if (sidebarVisible !== undefined) {\n      PDFViewerApplication.sidebarViewOnLoad = sidebarVisible ? 1 : 0;\n      if (PDFViewerApplication.appConfig) {\n        PDFViewerApplication.appConfig.sidebarViewOnLoad = sidebarVisible ? 1 : 0;\n      }\n      options.set('sidebarViewOnLoad', this.sidebarVisible ? 1 : 0);\n    }\n    if (this.spread === 'even') {\n      options.set('spreadModeOnLoad', 2);\n      if (PDFViewerApplication.pdfViewer) {\n        PDFViewerApplication.pdfViewer.spreadMode = 2;\n      }\n      this.onSpreadChange('even');\n    } else if (this.spread === 'odd') {\n      options.set('spreadModeOnLoad', 1);\n      if (PDFViewerApplication.pdfViewer) {\n        PDFViewerApplication.pdfViewer.spreadMode = 1;\n      }\n      this.onSpreadChange('odd');\n    } else {\n      options.set('spreadModeOnLoad', 0);\n      if (PDFViewerApplication.pdfViewer) {\n        PDFViewerApplication.pdfViewer.spreadMode = 0;\n      }\n      this.onSpreadChange('off');\n    }\n    if (this.printResolution) {\n      options.set('printResolution', this.printResolution);\n    }\n    if (this.showBorders === false) {\n      options.set('removePageBorders', !this.showBorders);\n    }\n  }\n\n  private openPDF() {\n    ServiceWorkerOptions.showUnverifiedSignatures = this.showUnverifiedSignatures;\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.enablePrint = this.enablePrint;\n    NgxExtendedPdfViewerComponent.ngxExtendedPdfViewerInitialized = true;\n    this.onResize();\n    if (!this.listenToURL) {\n      PDFViewerApplication.pdfLinkService.setHash = function () {};\n    }\n    this.initTimeout = null;\n    this.selectCursorTool();\n\n    PDFViewerApplication.eventBus.on('textlayerrendered', (x: TextLayerRenderedEvent) => {\n      this.textLayerRendered.emit(x);\n    });\n\n    PDFViewerApplication.eventBus.on('scrollmodechanged', (x: ScrollModeChangedEvent) => {\n      this.scrollModeChange.emit(x.mode);\n    });\n    PDFViewerApplication.eventBus.on('progress', (x: ProgressBarEvent) => {\n      this.progress.emit(x);\n    });\n\n    PDFViewerApplication.eventBus.on('pagesloaded', (x: PagesLoadedEvent) => {\n      this.pagesLoaded.emit(x);\n      this.removeScrollbarInInititeScrollMode();\n      if (this.rotation) {\n        const r = Number(this.rotation);\n        if (r === 0 || r === 90 || r === 180 || r === 270) {\n          PDFViewerApplication.pdfViewer.pagesRotation = r;\n        }\n      } else {\n        PDFViewerApplication.pdfViewer.pagesRotation = 0;\n      }\n      setTimeout(() => {\n        if (!this.shuttingDown) {\n          // hurried users sometimes reload the PDF before it has finished initializing\n          if (this.nameddest) {\n            PDFViewerApplication.pdfLinkService.navigateTo(this.nameddest);\n          } else if (this.page) {\n            PDFViewerApplication.page = Number(this.page);\n          } else if (this.pageLabel) {\n            PDFViewerApplication.pdfViewer.currentPageLabel = this.pageLabel;\n          }\n        }\n      });\n      this.setZoom();\n    });\n    PDFViewerApplication.eventBus.on('pagerendered', (x: PageRenderedEvent) => {\n      this.ngZone.run(() => {\n        this.pageRendered.emit(x);\n        this.fillFormFields(this.formData);\n        this.addFormFieldListeners(this.formData);\n        this.removeScrollbarInInititeScrollMode();\n      });\n    });\n    PDFViewerApplication.eventBus.on('download', (x: PdfDownloadedEvent) => {\n      this.ngZone.run(() => {\n        this.pdfDownloaded.emit(x);\n      });\n    });\n    PDFViewerApplication.eventBus.on('scalechanging', (x: ScaleChangingEvent) => {\n      setTimeout(() => {\n        this.ngZone.run(() => {\n          this.currentZoomFactor.emit(x.scale);\n          const scale = (this.root.nativeElement as HTMLElement).querySelector('#scaleSelect') as HTMLSelectElement | undefined;\n          let userZoomFactor = this.zoom;\n          if (scale) {\n            userZoomFactor = scale.value;\n          }\n          if (userZoomFactor !== 'auto' && userZoomFactor !== 'page-fit' && userZoomFactor !== 'page-actual' && userZoomFactor !== 'page-width') {\n            this.zoomChange.emit(x.scale * 100);\n          } else if (this.zoom !== userZoomFactor) {\n            // called when the user selects one of the text values of the zoom select dropdown\n            this.zoomChange.emit(userZoomFactor);\n          }\n        });\n      });\n    });\n\n    PDFViewerApplication.eventBus.on('rotationchanging', (x: PagesRotationEvent) => {\n      this.ngZone.run(() => {\n        this.rotationChange.emit(x.pagesRotation);\n      });\n    });\n    PDFViewerApplication.eventBus.on('fileinputchange', (x: FileInputChanged) => {\n      this.ngZone.run(() => {\n        const path = x.fileInput.value.replace('C:\\\\fakepath\\\\', '');\n        this.srcChange.emit(path);\n      });\n    });\n    PDFViewerApplication.eventBus.on('cursortoolchanged', (x: HandtoolChanged) => {\n      this.ngZone.run(() => {\n        this.handToolChange.emit(x.tool === PdfCursorTools.HAND);\n      });\n    });\n\n    PDFViewerApplication.eventBus.on('sidebarviewchanged', (x: SidebarviewChange) => {\n      this.ngZone.run(() => {\n        this.sidebarVisibleChange.emit(x.view > 0);\n        if (this.sidebarComponent) {\n          this.sidebarComponent.showToolbarWhenNecessary();\n        }\n      });\n    });\n\n    PDFViewerApplication.eventBus.on('documentloaded', (pdfLoadedEvent: PdfDocumentLoadedEvent) => {\n      this.ngZone.run(() => {\n        this.loadComplete(pdfLoadedEvent.source.pdfDocument);\n      });\n    });\n\n    const hideSidebarToolbar = () => {\n      this.ngZone.run(() => {\n        if (this.sidebarComponent) {\n          this.sidebarComponent.showToolbarWhenNecessary();\n        }\n      });\n    };\n\n    PDFViewerApplication.eventBus.on('outlineloaded', hideSidebarToolbar);\n\n    PDFViewerApplication.eventBus.on('attachmentsloaded', hideSidebarToolbar);\n\n    PDFViewerApplication.eventBus.on('layersloaded', hideSidebarToolbar);\n\n    PDFViewerApplication.eventBus.on('updatefindcontrolstate', (x: FindResult) => {\n      if (this.updateFindMatchesCount) {\n        if (x.state === FindState.NOT_FOUND) {\n          this.updateFindMatchesCount.emit({ current: 0, total: 0 });\n        } else if (x.matchesCount.total) {\n          this.updateFindMatchesCount.emit(x.matchesCount);\n        }\n      }\n\n      if (this.updateFindState) {\n        this.updateFindState.emit(x.state);\n      }\n    });\n    PDFViewerApplication.eventBus.on('updatefindmatchescount', (x: FindResult) => {\n      if (this.updateFindMatchesCount) {\n        if (x.matchesCount.total) {\n          this.updateFindMatchesCount.emit(x.matchesCount);\n        }\n      }\n    });\n\n    PDFViewerApplication.eventBus.on('pagechanging', (x: PageNumberChange) => {\n      if (!this.shuttingDown) {\n        // hurried users sometimes reload the PDF before it has finished initializing\n        this.ngZone.run(() => {\n          const currentPage = PDFViewerApplication.pdfViewer.currentPageNumber;\n          const currentPageLabel = PDFViewerApplication.pdfViewer.currentPageLabel;\n\n          if (currentPage !== this.page) {\n            this.pageChange.emit(currentPage);\n          }\n          if (currentPageLabel !== this.pageLabel) {\n            this.pageLabelChange.emit(currentPageLabel);\n          }\n        });\n      }\n    });\n\n    this.checkHeight();\n    // open a file in the viewer\n    if (!!this._src) {\n      const options: any = {\n        password: this.password,\n        verbosity: this.logLevel,\n      };\n      if (this._src['range']) {\n        options.range = this._src['range'];\n      }\n      if (this.httpHeaders) {\n        options.httpHeaders = this.httpHeaders;\n      }\n      if (this.authorization) {\n        options.withCredentials = true;\n        if (options.httpHeaders) {\n          if (!options.httpHeaders.Authorization) {\n            options.httpHeaders.Authorization = this.authorization;\n          }\n        } else {\n          options.httpHeaders = {\n            Authorization: this.authorization,\n          };\n        }\n      }\n      PDFViewerApplication.onError = (error: Error) => this.pdfLoadingFailed.emit(error);\n      PDFViewerApplication.open(this._src, options).then(() => {\n        this.pdfLoaded.emit({ pagesCount: PDFViewerApplication.pagesCount });\n      });\n    }\n    setTimeout(() => {\n      if (!this.shuttingDown) {\n        // hurried users sometimes reload the PDF before it has finished initializing\n        if (this.page) {\n          PDFViewerApplication.page = Number(this.page);\n        }\n      }\n    }, 100);\n  }\n\n  private removeScrollbarInInititeScrollMode(): void {\n    if (this.pageViewMode === 'infinite-scroll') {\n      setTimeout(() => {\n        const viewer = document.getElementById('viewer');\n        if (viewer) {\n          const height = viewer.clientHeight + 17;\n          const zoom = document.getElementsByClassName('zoom')[0];\n          if (this.primaryMenuVisible) {\n            this.height = height + 35 + 'px';\n          } else {\n            this.height = height + 'px';\n          }\n          if (zoom) {\n            (<HTMLElement>zoom).style.height = this.height;\n          }\n        }\n      });\n    }\n  }\n\n  public openPDF2(): void {\n    this.overrideDefaultSettings();\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    const options: any = {\n      password: this.password,\n      verbosity: this.logLevel,\n    };\n    if (this._src['range']) {\n      options.range = this._src['range'];\n    }\n    if (this.httpHeaders) {\n      options.httpHeaders = this.httpHeaders;\n    }\n    if (this.authorization) {\n      options.withCredentials = true;\n      if (options.httpHeaders) {\n        if (!options.httpHeaders.Authorization) {\n          options.httpHeaders.Authorization = this.authorization;\n        }\n      } else {\n        options.httpHeaders = {\n          Authorization: this.authorization,\n        };\n      }\n    }\n    PDFViewerApplication.open(this._src, options).then(\n      () => {\n        this.pdfLoaded.emit({ pagesCount: PDFViewerApplication.pagesCount });\n      },\n      (error: Error) => this.pdfLoadingFailed.emit(error)\n    );\n  }\n\n  private selectCursorTool() {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.dispatch('switchcursortool', { tool: this.handTool ? 1 : 0 });\n  }\n\n  public ngOnDestroy(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    this.shuttingDown = true;\n\n    NgxExtendedPdfViewerComponent.ngxExtendedPdfViewerInitialized = false;\n    if (this.initTimeout) {\n      clearTimeout(this.initTimeout);\n      this.initTimeout = undefined;\n    }\n    if (PDFViewerApplication) {\n      if (this.pinchOnMobileSupport) {\n        this.pinchOnMobileSupport.destroyPinchZoom();\n        this.pinchOnMobileSupport = undefined;\n      }\n\n      PDFViewerApplication.cleanup();\n      PDFViewerApplication.close();\n      if (PDFViewerApplication.printKeyDownListener) {\n        removeEventListener('keydown', PDFViewerApplication.printKeyDownListener, true);\n      }\n      setTimeout(() => {\n        if (PDFViewerApplication._boundEvents) {\n          PDFViewerApplication.unbindWindowEvents();\n        }\n        const bus = PDFViewerApplication.eventBus;\n        if (bus) {\n          PDFViewerApplication.unbindEvents();\n          for (const key in bus._listeners) {\n            if (bus._listeners[key]) {\n              const list = bus._listeners[key];\n              // not sure if the for loop is necessary - but\n              // it might improve garbage collection if the \"listeners\"\n              // array is stored somewhere else\n              for (let i = 0; i < list.length; i++) {\n                list[i] = undefined;\n              }\n              bus._listeners[key] = undefined;\n            }\n          }\n        }\n        (PDFViewerApplication.eventBus as any) = null;\n      });\n    }\n\n    const body = document.getElementsByTagName('body');\n    if (body[0]) {\n      const topLevelElements = body[0].children;\n      for (let i = topLevelElements.length - 1; i >= 0; i--) {\n        const e = topLevelElements.item(i);\n        if (e && e.id === 'printContainer') {\n          body[0].removeChild(e);\n        } else if (e && e.id === 'fileInput') {\n          body[0].removeChild(e);\n        }\n      }\n    }\n  }\n\n  private isPrimaryMenuVisible(): boolean {\n    if (this.showToolbar) {\n      const visible =\n        this.showBookmarkButton ||\n        this.showDownloadButton ||\n        this.showFindButton ||\n        this.showOpenFileButton ||\n        this.showPagingButtons ||\n        this.showPresentationModeButton ||\n        this.showPrintButton ||\n        this.showPropertiesButton ||\n        this.showRotateButton ||\n        this.showHandToolButton ||\n        this.showScrollingButton ||\n        this.showSidebarButton ||\n        this.showZoomButtons;\n\n      if (visible) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  public ngOnChanges(changes: SimpleChanges) {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    const PDFViewerApplicationOptions: IPDFViewerApplicationOptions = (window as any).PDFViewerApplicationOptions;\n\n    if (NgxExtendedPdfViewerComponent.ngxExtendedPdfViewerInitialized) {\n      if ('src' in changes || 'base64Src' in changes) {\n        if (!!this._src) {\n          this.openPDF2();\n        } else {\n          PDFViewerApplication.close();\n        }\n      }\n      if ('zoom' in changes) {\n        this.setZoom();\n      }\n\n      if ('maxZoom' in changes) {\n        PDFViewerApplicationOptions.set('maxZoom', this.maxZoom);\n      }\n\n      if ('minZoom' in changes) {\n        PDFViewerApplicationOptions.set('minZoom', this.minZoom);\n      }\n\n      if ('handTool' in changes) {\n        this.selectCursorTool();\n      }\n      if ('page' in changes) {\n        if (this.page) {\n          // tslint:disable-next-line: triple-equals\n          if (this.page != PDFViewerApplication.page) {\n            PDFViewerApplication.page = this.page;\n          }\n        }\n      }\n      if ('pageLabel' in changes) {\n        if (this.pageLabel) {\n          if (this.pageLabel !== PDFViewerApplication.pdfViewer.currentPageLabel) {\n            PDFViewerApplication.pdfViewer.currentPageLabel = this.pageLabel;\n          }\n        }\n      }\n\n      if ('rotation' in changes) {\n        if (this.rotation) {\n          const r = Number(this.rotation);\n          if (r === 0 || r === 90 || r === 180 || r === 270) {\n            PDFViewerApplication.pdfViewer.pagesRotation = r;\n          }\n        } else {\n          PDFViewerApplication.pdfViewer.pagesRotation = 0;\n        }\n      }\n      if ('scrollMode' in changes) {\n        if (this.scrollMode || this.scrollMode === ScrollModeType.vertical) {\n          PDFViewerApplication.pdfViewer.scrollMode = Number(this.scrollMode);\n        }\n      }\n      if ('sidebarVisible' in changes) {\n        if (this.sidebarVisible) {\n          PDFViewerApplication.pdfSidebar.open();\n        } else {\n          PDFViewerApplication.pdfSidebar.close();\n        }\n      }\n      if ('filenameForDownload' in changes) {\n        PDFViewerApplication.appConfig.filenameForDownload = this.filenameForDownload;\n      }\n      if ('nameddest' in changes) {\n        if (this.nameddest) {\n          PDFViewerApplication.pdfLinkService.navigateTo(this.nameddest);\n        }\n      }\n\n      if ('spread' in changes) {\n        if (this.spread === 'even') {\n          PDFViewerApplication.spreadModeOnLoad = 2;\n          PDFViewerApplication.pdfViewer.spreadMode = 2;\n          this.onSpreadChange('even');\n        } else if (this.spread === 'odd') {\n          PDFViewerApplication.spreadModeOnLoad = 1;\n          PDFViewerApplication.pdfViewer.spreadMode = 1;\n          this.onSpreadChange('odd');\n        } else {\n          PDFViewerApplication.spreadModeOnLoad = 0;\n          PDFViewerApplication.pdfViewer.spreadMode = 0;\n          this.onSpreadChange('off');\n        }\n      }\n\n      if ('enablePinchOnMobile' in changes) {\n        if (!changes['enablePinchOnMobile'].isFirstChange()) {\n          if (changes['enablePinchOnMobile'].currentValue !== changes['enablePinchOnMobile'].previousValue) {\n            if (this.enablePinchOnMobile) {\n              this.pinchOnMobileSupport = new PinchOnMobileSupport(this.ngZone);\n            } else {\n              if (this.pinchOnMobileSupport) {\n                this.pinchOnMobileSupport.destroyPinchZoom();\n                this.pinchOnMobileSupport = undefined;\n              }\n            }\n          }\n        }\n      }\n\n      this.primaryMenuVisible = this.showToolbar;\n      if (!this.showSecondaryToolbarButton || this.hideKebabMenuForSecondaryToolbar) {\n        if (!this.isPrimaryMenuVisible()) {\n          this.primaryMenuVisible = false;\n        }\n      }\n      this.calcViewerPositionTop();\n    } // end of if (NgxExtendedPdfViewerComponent.ngxExtendedPdfViewerInitialized)\n    this.onResize();\n\n    if ('printResolution' in changes) {\n      const options = PDFViewerApplicationOptions;\n      if (options) {\n        options.set('printResolution', this.printResolution);\n      }\n    }\n    if ('ignoreKeyboard' in changes) {\n      const options = PDFViewerApplicationOptions;\n      if (options) {\n        this.overrideDefaultSettings();\n      }\n    }\n    if ('ignoreKeys' in changes) {\n      const options = PDFViewerApplicationOptions;\n      if (options) {\n        this.overrideDefaultSettings();\n      }\n    }\n    if ('acceptKeys' in changes) {\n      const options = PDFViewerApplicationOptions;\n      if (options) {\n        this.overrideDefaultSettings();\n      }\n    }\n    if ('showBorders' in changes) {\n      if (!changes['showBorders'].isFirstChange()) {\n        const options = PDFViewerApplicationOptions;\n        if (options) {\n          this.overrideDefaultSettings();\n          const viewer = document.getElementById('viewer') as HTMLElement;\n          if (this.showBorders) {\n            viewer.classList.remove('removePageBorders');\n          } else {\n            viewer.classList.add('removePageBorders');\n          }\n\n          if (PDFViewerApplication.pdfViewer) {\n            PDFViewerApplication.pdfViewer.removePageBorders = !this.showBorders;\n          }\n          const zoomEvent = {\n            source: viewer,\n            // tslint:disable-next-line:no-bitwise\n            scale: (Number(this.zoom) | 100) / 100,\n            presetValue: this.zoom,\n          } as ScaleChangingEvent;\n          PDFViewerApplication.eventBus.dispatch('scalechanging', zoomEvent);\n        }\n      }\n\n      if ('showUnverifiedSignatures' in changes) {\n        if (PDFViewerApplication && PDFViewerApplication.pdfDocument) {\n          PDFViewerApplication.pdfDocument._transport.messageHandler.send('showUnverifiedSignatures', this.showUnverifiedSignatures);\n        }\n      }\n\n      if ('formData' in changes) {\n        const newFormData = this.addMissingFormFields(changes['formData'].currentValue);\n        if (!this.equals(newFormData, changes['formData'].previousValue)) {\n          this.fillFormFields(this.formData);\n        }\n      }\n    }\n\n    if ('enablePrint' in changes) {\n      if (!changes['enablePrint'].isFirstChange()) {\n        PDFViewerApplication.enablePrint = this.enablePrint;\n      }\n    }\n    if (\n      ('customFindbar' in changes && !changes['customFindbar'].isFirstChange()) ||\n      ('customFindbarButtons' in changes && !changes['customFindbarButtons'].isFirstChange()) ||\n      ('customFindbarInputArea' in changes && !changes['customFindbarInputArea'].isFirstChange()) ||\n      ('customToolbar' in changes && !changes['customToolbar'].isFirstChange())\n    ) {\n      if (this.dummyComponents) {\n        this.dummyComponents.addMissingStandardWidgets();\n      }\n    }\n\n    if ('height' in changes) {\n    }\n  }\n\n  private equals(object1: any, object2: any): boolean {\n    if (!object1 || !object2) {\n      return object1 === object2;\n    }\n    const keys1 = Object.keys(object1);\n    const keys2 = Object.keys(object2);\n\n    for (const key of keys1) {\n      if (object1.hasOwnProperty(key)) {\n        if (object1[key] !== undefined && object2[key] !== undefined) {\n          if (object1[key] !== object2[key]) {\n            return false;\n          }\n        }\n      }\n    }\n\n    for (const key of keys2) {\n      if (object2.hasOwnProperty(key)) {\n        if (object1[key] !== undefined && object2[key] !== undefined) {\n          if (object1[key] !== object2[key]) {\n            return false;\n          }\n        }\n      }\n    }\n\n    return true;\n  }\n\n  private setZoom() {\n    let zoomAsNumber = this.zoom;\n    if (String(zoomAsNumber).endsWith('%')) {\n      zoomAsNumber = Number(String(zoomAsNumber).replace('%', '')) / 100;\n    } else if (!isNaN(Number(zoomAsNumber))) {\n      zoomAsNumber = Number(zoomAsNumber) / 100;\n    }\n    if (!zoomAsNumber) {\n      zoomAsNumber = 'auto';\n    }\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n\n    if (PDFViewerApplication) {\n      const PDFViewerApplicationOptions: IPDFViewerApplicationOptions = (window as any).PDFViewerApplicationOptions;\n\n      PDFViewerApplicationOptions.set('defaultZoomValue', zoomAsNumber);\n    }\n    if (PDFViewerApplication.pdfViewer) {\n      PDFViewerApplication.pdfViewer.currentScaleValue = zoomAsNumber;\n    }\n  }\n\n  public onResize(): void {\n    const pdfViewer = document.getElementsByClassName('html');\n    if (pdfViewer && pdfViewer.length > 0) {\n      const container = document.getElementById('outerContainer');\n      if (container) {\n        const width = container.clientWidth;\n        this.toolbarWidthInPixels = width;\n        if (this.secondaryToolbarComponent) {\n          this.secondaryToolbarComponent.checkVisibility();\n        }\n      }\n    }\n    try {\n      const observer = new ResizeObserver(() => this.removeScrollbarInInititeScrollMode());\n      const viewer = document.getElementById('viewer');\n      if (viewer) {\n        observer.observe(viewer);\n      }\n    } catch (exception) {\n      console.log('ResizeObserver is not supported by your browser');\n    }\n  }\n\n  @HostListener('contextmenu')\n  public onContextMenu(): boolean {\n    return this.contextMenuAllowed;\n  }\n\n  public onSecondaryMenuIsEmpty(hideKebabButton: boolean) {\n    this.hideKebabMenuForSecondaryToolbar = hideKebabButton;\n    if (hideKebabButton) {\n      if (!this.isPrimaryMenuVisible()) {\n        this.primaryMenuVisible = false;\n      }\n    }\n  }\n\n  public fillFormFields(formData: FormDataType): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n\n    if (!PDFViewerApplication || !PDFViewerApplication.pdfDocument || !PDFViewerApplication.pdfDocument.annotationStorage) {\n      // ngOnChanges calls this method too early - so just ignore it\n      return;\n    }\n\n    const annotations = PDFViewerApplication.pdfDocument.annotationStorage.getAll();\n    for (const annotation in annotations) {\n      if (annotation) {\n        const container = document.querySelector('[data-annotation-id=\"' + annotation + '\"]');\n        if (container) {\n          const field = container.querySelector('input');\n          if (field) {\n            const fieldName = field.name;\n            const newValue = formData[fieldName];\n            if (newValue === undefined) {\n              if (field.type === 'checkbox') {\n                // Additional PDF Form Field Types #567: use exportValue from the field annotation for the value\n                this.formData[fieldName] = field.checked ? this.buttonValues[annotation] : null;\n              } else if (field.type === 'radio') {\n                // Additional PDF Form Field Types #567: use buttonValue from the field annotation for the value\n\n                if (field.checked) this.formData[fieldName] = this.buttonValues[annotation];\n              } else {\n                this.formData[fieldName] = field.value;\n              }\n            }\n            if (newValue !== undefined) {\n              PDFViewerApplication.pdfDocument.annotationStorage.setValue(annotation, newValue);\n              if (field.type === 'checkbox') {\n                const v = String(newValue) == this.buttonValues[annotation];\n                field.checked = v;\n              } else if (field.type === 'radio') {\n                const v = String(newValue) == this.buttonValues[annotation];\n                field.checked = v;\n              } else {\n                field.value = <string>newValue;\n              }\n            }\n          }\n\n          // Additional PDF Form Field Types #567: handle multi line text fields\n          const textarea = container.querySelector('textarea');\n          if (textarea) {\n            const fieldName = textarea.name;\n            const newValue = formData[fieldName];\n            if (newValue === undefined) {\n              this.formData[fieldName] = textarea.value;\n            }\n            if (newValue !== undefined) {\n              PDFViewerApplication.pdfDocument.annotationStorage.setValue(annotation, newValue);\n              textarea.value = <string>newValue;\n            }\n          }\n\n          const select = container.querySelector('select');\n          if (select) {\n            const fieldName = select.name;\n            const newValue = formData[fieldName];\n            if (newValue === undefined) {\n              // Additional PDF Form Field Types #567: moved setting and retrieving <select> field values to functions to handle single or multi select fields\n              this.formData[fieldName] = this.getSelectValue(select);\n            }\n            if (newValue !== undefined) {\n              PDFViewerApplication.pdfDocument.annotationStorage.setValue(annotation, newValue);\n              // Additional PDF Form Field Types #567: moved setting and retrieving <select> field values to functions to handle single or multi select fields\n              this.setSelectValue(select, newValue);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  public addFormFieldListeners(formData: FormDataType): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n\n    const annotations = PDFViewerApplication.pdfDocument.annotationStorage.getAll();\n    for (const annotation in annotations) {\n      if (annotation) {\n        const container = document.querySelector('[data-annotation-id=\"' + annotation + '\"]');\n        if (container) {\n          const field = container.querySelector('input');\n          if (field) {\n            const fieldName = field.name;\n            const newValue = formData[fieldName];\n            if (newValue === undefined) {\n              // Additional PDF Form Field Types #567: use exportValue/buttonValue from the field annotation for the value for checkboxes/radio buttons\n              if (field.type === 'checkbox' || field.type === 'radio') {\n                if (field.checked) this.formData[fieldName] = this.buttonValues[annotation];\n              } else this.formData[fieldName] = field.value;\n            }\n            field.addEventListener('input', () => this.emitFormDataChange(annotation, fieldName, field));\n          }\n\n          // Additional PDF Form Field Types #567: handle multi line text fields\n          const textarea = container.querySelector('textarea');\n          if (textarea) {\n            const fieldName = textarea.name;\n            const newValue = formData[fieldName];\n            if (newValue === undefined) {\n              this.formData[fieldName] = textarea.value;\n            }\n            textarea.addEventListener('input', () => this.emitFormDataChange(annotation, fieldName, textarea));\n          }\n\n          const select = container.querySelector('select');\n          if (select) {\n            const fieldName = select.name;\n            const newValue = formData[fieldName];\n            if (newValue === undefined) {\n              // Additional PDF Form Field Types #567: moved setting and retrieving <select> field values to functions to handle single or multi select fields\n              this.formData[fieldName] = this.getSelectValue(select);\n            }\n            select.addEventListener('input', () => this.emitFormDataChange(annotation, fieldName, select));\n          }\n        }\n      }\n    }\n  }\n\n  public addMissingFormFields(formData: FormDataType): FormDataType {\n    const result = { ...formData };\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    if (PDFViewerApplication && PDFViewerApplication.pdfDocument) {\n      const annotations = PDFViewerApplication.pdfDocument.annotationStorage.getAll();\n      for (const annotation in annotations) {\n        if (annotation) {\n          const container = document.querySelector('[data-annotation-id=\"' + annotation + '\"]');\n          if (container) {\n            const field = container.querySelector('input');\n            if (field) {\n              const fieldName = field.name;\n              const newValue = result[fieldName];\n              if (newValue === undefined) {\n                // Additional PDF Form Field Types #567: use exportValue/buttonValue from the field annotation for the value for checkboxes/radio buttons\n                if (field.type === 'checkbox') {\n                  result[fieldName] = field.checked ? this.buttonValues[annotation] : null;\n                } else if (field.type === 'radio') {\n                  if (field.checked) result[fieldName] = this.buttonValues[annotation];\n                } else {\n                  result[fieldName] = field.value;\n                }\n              }\n            }\n\n            const select = container.querySelector('select');\n            if (select) {\n              const fieldName = select.name;\n              const newValue = result[fieldName];\n              if (newValue === undefined) {\n                // Additional PDF Form Field Types #567: moved setting and retrieving <select> field values to functions to handle single or multi select fields\n                result[fieldName] = this.getSelectValue(select);\n              }\n            }\n\n            // Additional PDF Form Field Types #567: handle multi line text fields\n            const textarea = container.querySelector('textarea');\n            if (textarea) {\n              const fieldName = textarea.name;\n              const newValue = result[fieldName];\n              if (newValue === undefined) {\n                result[fieldName] = textarea.value;\n              }\n            }\n          }\n        }\n      }\n    }\n    return result;\n  }\n\n  private getSelectValue(field: HTMLSelectElement) {\n    if (field.multiple) {\n      let values: string[] = [];\n      let options = field.options;\n\n      for (let i = 0; i < options.length; i++) {\n        if (options[i].selected) {\n          values.push(options[i].value);\n        }\n      }\n      return values;\n    } else return field.value;\n  }\n\n  private setSelectValue(field: HTMLSelectElement, value: string | string[]) {\n    if (field.multiple && Array.isArray(value)) {\n      let values: string[] = value;\n      let options = field.options;\n\n      for (let i = 0; i < options.length; i++) options[i].selected = values.indexOf(options[i].value) != -1;\n    } else field.value = <string>value;\n  }\n\n  private emitFormDataChange(annotation: string, fieldName: string, field: HTMLElement): void {\n    let value: any = null;\n\n    if (field instanceof HTMLSelectElement) {\n      value = this.getSelectValue(field);\n    }\n    // Additional PDF Form Field Types #567: handle multi line text fields\n    else if (field instanceof HTMLTextAreaElement) {\n      value = field.value;\n    } else if (field instanceof HTMLInputElement) {\n      // Additional PDF Form Field Types #567: use exportValue/buttonValue from the field annotation for the value for checkboxes/radio buttons\n      if (field.type === 'checkbox') {\n        if (field.checked) value = this.buttonValues[annotation];\n      } else if (field.type === 'radio') {\n        if (field.checked) value = this.buttonValues[annotation];\n      } else {\n        value = field.value;\n      }\n    }\n    this.ngZone.run(() => {\n      if (this.formData[fieldName] !== undefined) {\n        this.formData[fieldName] = value;\n        this.formDataChange.emit(this.formData);\n      }\n    });\n  }\n\n  /*\n  private addInput(annotation: PDFAnnotationData, rect: number[]): void {\n    // add input to page\n    console.log(annotation);\n  }\n  */\n\n  public loadComplete(pdf: any /* PDFDocumentProxy */): void {\n    /** This method has been inspired by https://medium.com/factory-mind/angular-pdf-forms-fa72b15c3fbd. Thanks, Jonny Fox! */\n    // screen DPI / PDF DPI\n    const dpiRatio = 96 / 72;\n    this.hasSignature = false;\n\n    this.buttonValues = {};\n\n    for (let i = 1; i <= pdf.numPages; i++) {\n      // track the current page\n      let currentPage: any = null;\n      pdf\n        .getPage(i)\n        .then((p) => {\n          currentPage = p;\n\n          // get the annotations of the current page\n          return p.getAnnotations();\n        })\n        .then((ann) => {\n          // ugly cast due to missing typescript definitions\n          // please contribute to complete @types/pdfjs-dist\n          const annotations = ann; /* (<any>ann) as PDFAnnotationData[]; */\n\n          annotations\n            .filter((a) => a.subtype === 'Widget') // get the form field annotation only\n            .forEach((a) => {\n              // Additional PDF Form Field Types #567: Store the exportValue for the check boxes and buttonValue for radio buttons for quick reference\n              if (a.checkBox) this.buttonValues[a.id] = a.exportValue;\n              else if (a.radioButton) this.buttonValues[a.id] = a.buttonValue;\n\n              if (a.fieldType === 'Sig') {\n                this.ngZone.run(() => {\n                  this.hasSignature = true;\n                  setTimeout(() => {\n                    const viewerContainer = document.querySelector('#viewerContainer') as HTMLElement;\n                    viewerContainer.scrollBy(0, -32);\n                  });\n                });\n              }\n              /*\n              // get the rectangle that represent the single field\n              // and resize it according to the current DPI\n              const fieldRect = currentPage.getViewport(dpiRatio).convertToViewportRectangle(a.rect);\n\n              // add the corresponding input\n              this.addInput(a, fieldRect);\n              */\n            });\n        });\n    }\n  }\n}\n","// import { PDFDocumentProxy, PDFPageProxy } from './../../types/src/display/api.d';\nimport { NgxExtendedPdfViewerComponent } from './ngx-extended-pdf-viewer.component';\nimport { PDFPrintRange } from './options/pdf-print-range';\nimport { IPDFViewerApplication } from './options/pdf-viewer-application';\n\nexport interface FindOptions {\n  highlightAll?: boolean;\n  matchCase?: boolean;\n  wholeWords?: boolean;\n  ignoreAccents?: boolean;\n  findMultipleSearchTexts?: boolean;\n  fuzzySearch?: boolean;\n}\n\ninterface DrawContext {\n  ctx: CanvasRenderingContext2D;\n  canvas: HTMLCanvasElement;\n}\n\nexport interface PDFExportScaleFactor {\n  width?: number;\n  height?: number;\n  scale?: number;\n}\n\nexport class NgxExtendedPdfViewerService {\n  constructor() {}\n\n  public findMultiple(text: Array<string>, options: FindOptions = {}): boolean {\n    options = {\n      ...options,\n      findMultipleSearchTexts: true,\n    };\n    const searchString = text.join('\\n') + '\\n';\n    return this.find(searchString, options);\n  }\n\n  public find(text: string, options: FindOptions = {}): boolean {\n    if (!NgxExtendedPdfViewerComponent.ngxExtendedPdfViewerInitialized) {\n      // tslint:disable-next-line:quotemark\n      console.error(\"The PDF viewer hasn't finished initializing. Please call find() later.\");\n      return false;\n    } else {\n      const highlightAllCheckbox = document.getElementById('findHighlightAll') as HTMLInputElement;\n      if (highlightAllCheckbox) {\n        highlightAllCheckbox.checked = options.highlightAll || false;\n      }\n      const matchCaseCheckbox = document.getElementById('findMatchCase') as HTMLInputElement;\n      if (matchCaseCheckbox) {\n        matchCaseCheckbox.checked = options.matchCase || false;\n      }\n      const entireWordCheckbox = document.getElementById('findEntireWord') as HTMLInputElement;\n      if (entireWordCheckbox) {\n        entireWordCheckbox.checked = options.wholeWords || false;\n      }\n      const findIgnoreAccentsCheckbox = document.getElementById('findIgnoreAccents') as HTMLInputElement;\n      if (findIgnoreAccentsCheckbox) {\n        findIgnoreAccentsCheckbox.checked = options.ignoreAccents || false;\n      }\n      const multipleSearchTerms = options.findMultipleSearchTexts || text.includes('\\n') || false;\n      const findMultipleSearchTextsCheckbox = document.getElementById('findMultipleSearchTexts') as HTMLInputElement;\n      if (findMultipleSearchTextsCheckbox) {\n        findMultipleSearchTextsCheckbox.checked = multipleSearchTerms;\n      }\n      const individualWordsModeCheckbox = document.getElementById('individualWordsMode') as HTMLInputElement;\n      if (individualWordsModeCheckbox) {\n        individualWordsModeCheckbox.checked = false;\n      }\n      const fuzzySearchCheckbox = document.getElementById('findFuzzy') as HTMLInputElement;\n      if (fuzzySearchCheckbox) {\n        fuzzySearchCheckbox.checked = options.fuzzySearch || false;\n      }\n      const inputField = multipleSearchTerms ? document.getElementById('findInputMultiline') : document.getElementById('findInput');\n      if (inputField) {\n        if (inputField instanceof HTMLTextAreaElement) {\n          inputField.value = text;\n\n          // todo dirty hack!\n          inputField.classList.remove('hidden');\n          (document.getElementById('findInput') as HTMLInputElement).classList.add('hidden');\n          (document.getElementById('individualWordsModeLabel') as HTMLInputElement).classList.remove('hidden');\n          (document.getElementById('individualWordsMode') as HTMLInputElement).classList.remove('hidden');\n          // end of the dirty hack\n        } else if (inputField instanceof HTMLInputElement) {\n          inputField.value = text;\n          // todo dirty hack!\n          inputField.classList.remove('hidden');\n          (document.getElementById('findInputMultiline') as HTMLInputElement).classList.add('hidden');\n          (document.getElementById('individualWordsModeLabel') as HTMLInputElement).classList.add('hidden');\n          (document.getElementById('individualWordsMode') as HTMLInputElement).classList.add('hidden');\n          // end of the dirty hack\n        }\n        inputField.dispatchEvent(new Event('input'));\n        return true;\n      } else {\n        // tslint:disable-next-line:quotemark\n        console.error(\"Unexpected error: the input field used to search isn't part of the DOM.\");\n        return false;\n      }\n    }\n  }\n\n  public findNext(): boolean {\n    if (!NgxExtendedPdfViewerComponent.ngxExtendedPdfViewerInitialized) {\n      // tslint:disable-next-line:quotemark\n      console.error(\"The PDF viewer hasn't finished initializing. Please call findNext() later.\");\n      return false;\n    } else {\n      const button = document.getElementById('findNext');\n      if (button) {\n        button.click();\n        return true;\n      }\n      return false;\n    }\n  }\n\n  public findPrevious(): boolean {\n    if (!NgxExtendedPdfViewerComponent.ngxExtendedPdfViewerInitialized) {\n      // tslint:disable-next-line:quotemark\n      console.error(\"The PDF viewer hasn't finished initializing. Please call findPrevious() later.\");\n      return false;\n    } else {\n      const button = document.getElementById('findPrevious');\n      if (button) {\n        button.click();\n        return true;\n      }\n      return false;\n    }\n  }\n\n  public print(printRange?: PDFPrintRange) {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    const alreadyThere = !!window['isInPDFPrintRange'] && !printRange;\n    if (!alreadyThere) {\n      if (!printRange) {\n        printRange = {} as PDFPrintRange;\n      }\n      this.setPrintRange(printRange);\n    }\n    (window as any).printPDF();\n    if (!alreadyThere) {\n      PDFViewerApplication.eventBus.on('afterprint', () => {\n        this.removePrintRange();\n      });\n    }\n  }\n\n  public removePrintRange() {\n    window['isInPDFPrintRange'] = undefined;\n    window['filteredPageCount'] = undefined;\n  }\n\n  public setPrintRange(printRange: PDFPrintRange) {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    window['isInPDFPrintRange'] = (page: number) => this.isInPDFPrintRange(page, printRange as PDFPrintRange);\n    window['filteredPageCount'] = this.filteredPageCount(PDFViewerApplication.pagesCount, printRange);\n  }\n\n  public filteredPageCount(pageCount: number, range: PDFPrintRange): number {\n    let result = 0;\n    for (let page = 1; page <= pageCount; page++) {\n      if (this.isInPDFPrintRange(page, range)) {\n        result++;\n      }\n    }\n    return result;\n  }\n\n  public isInPDFPrintRange(pageIndex: number, printRange: PDFPrintRange) {\n    const page = pageIndex + 1;\n    if (printRange.from) {\n      if (page < printRange.from) {\n        return false;\n      }\n    }\n    if (printRange.to) {\n      if (page > printRange.to) {\n        return false;\n      }\n    }\n    if (printRange.excluded) {\n      let e = printRange.excluded as Array<number>;\n      if (e.some((p) => p === page)) {\n        return false;\n      }\n    }\n    if (printRange.included) {\n      if (!printRange.included.some((p) => p === page)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  public getPageAsText(pageNumber: number): Promise<string> {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    const pdfDocument = PDFViewerApplication.pdfDocument;\n\n    const pagePromise: Promise<any> = pdfDocument.getPage(pageNumber);\n\n    const extractTextSnippets = (pdfPage) =>\n      new Promise<any>((resolve, reject) => {\n        const textSnippets = pdfPage.getTextContent();\n        resolve(textSnippets);\n      });\n    const combineTextSnippets = (textSnippets) =>\n      new Promise<string>((resolve, reject) => {\n        const text = this.convertTextInfoToText(textSnippets);\n        resolve(text);\n      });\n    return pagePromise.then(extractTextSnippets).then(combineTextSnippets);\n  }\n\n  private convertTextInfoToText(textInfo: any): string {\n    if (!textInfo) {\n      return '';\n    }\n    return textInfo.items.map((info) => info.str).join('');\n  }\n\n  public getPageAsImage(pageNumber: number, scale: PDFExportScaleFactor): Promise<any> {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    const pdfDocument = PDFViewerApplication.pdfDocument;\n    const pagePromise: Promise<any> = pdfDocument.getPage(pageNumber);\n    const imagePromise = (pdfPage) =>\n      new Promise<any>((resolve, reject) => {\n        resolve(this.draw(pdfPage, scale));\n      });\n\n    return pagePromise.then(imagePromise);\n  }\n\n  private draw(pdfPage: any, scale: PDFExportScaleFactor): Promise<HTMLCanvasElement> {\n    let zoomFactor = 1;\n    if (scale.scale) {\n      zoomFactor = scale.scale;\n    } else if (scale.width) {\n      zoomFactor = scale.width / pdfPage.getViewport({ scale: 1 }).width;\n    } else if (scale.height) {\n      zoomFactor = scale.height / pdfPage.getViewport({ scale: 1 }).height;\n    }\n    const viewport = pdfPage.getViewport({\n      scale: zoomFactor,\n    });\n    const { ctx, canvas } = this.getPageDrawContext(viewport.width, viewport.height);\n    const drawViewport = viewport.clone();\n\n    const renderContext = {\n      canvasContext: ctx,\n      viewport: drawViewport,\n    };\n    const renderTask = pdfPage.render(renderContext);\n\n    const dataUrlPromise = () =>\n      new Promise<string>((resolve, reject) => {\n        resolve(canvas.toDataURL());\n      });\n\n    return renderTask.promise.then(dataUrlPromise);\n  }\n\n  private getPageDrawContext(width: number, height: number): DrawContext {\n    const canvas = document.createElement('canvas') as HTMLCanvasElement;\n    const ctx = canvas.getContext('2d', { alpha: false });\n    if (!ctx) {\n      // tslint:disable-next-line: quotemark\n      throw new Error(\"Couldn't create the 2d context\");\n    }\n\n    canvas.width = width;\n    canvas.height = height;\n    canvas.style.width = width + 'px';\n    canvas.style.height = height + 'px';\n\n    return { ctx, canvas };\n  }\n\n  public async getCurrentDocumentAsBlob(): Promise<Blob> {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    const data = await PDFViewerApplication.pdfDocument.saveDocument(PDFViewerApplication.pdfDocument.annotationStorage);\n    return new Blob([data], { type: 'application/pdf' });\n  }\n\n  public async getFormData(): Promise<Array<Object>> {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    const pdf /*: PDFDocumentProxy */ = PDFViewerApplication.pdfDocument;\n    // screen DPI / PDF DPI\n    const dpiRatio = 96 / 72;\n    const result: Array<Object> = [];\n    for (let i = 1; i <= pdf.numPages; i++) {\n      // track the current page\n      const currentPage /* : PDFPageProxy */ = await pdf.getPage(i);\n      const annotations = await currentPage.getAnnotations();\n\n      annotations\n        .filter((a) => a.subtype === 'Widget') // get the form field annotations only\n        .forEach((a) => {\n          // get the rectangle that represent the single field\n          // and resize it according to the current DPI\n          const fieldRect: Array<number> = currentPage.getViewport({ scale: dpiRatio }).convertToViewportRectangle(a.rect);\n\n          // add the corresponding input\n          result.push({ fieldAnnotation: a, fieldRect });\n        });\n    }\n    return result;\n  }\n}\n","import { PdfCursorTools } from './../../options/pdf-cursor-tools';\nimport { Component, Input } from '@angular/core';\nimport { IPDFViewerApplication } from '../../options/pdf-viewer-application';\nimport { PDFNotificationService } from '../../pdf-notification-service';\nimport { HandtoolChanged } from '../../events/handtool-changed';\n\n@Component({\n  selector: 'pdf-hand-tool',\n  templateUrl: './pdf-hand-tool.component.html',\n  styleUrls: ['./pdf-hand-tool.component.css']\n})\nexport class PdfHandToolComponent {\n  @Input()\n  public showHandToolButton = true;\n\n  public isSelected = false;\n\n  constructor(private notificationService: PDFNotificationService) {\n    const subscription = this.notificationService.onPDFJSInit.subscribe(() => {\n      this.onPdfJsInit();\n      subscription.unsubscribe();\n    });\n  }\n\n  private onPdfJsInit() {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.on('cursortoolchanged',\n      ({ tool }: HandtoolChanged) => (this.isSelected = tool === PdfCursorTools.HAND));\n  }\n\n  public onClick(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.dispatch('switchcursortool', { tool: PdfCursorTools.HAND });\n  }\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'pdf-bookmark',\n  templateUrl: './pdf-bookmark.component.html',\n  styleUrls: ['./pdf-bookmark.component.css']\n})\nexport class PdfBookmarkComponent {\n\n  @Input()\n  public showBookmarkButton = true;\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-context-menu',\n  templateUrl: './pdf-context-menu.component.html',\n  styleUrls: ['./pdf-context-menu.component.css']\n})\nexport class PdfContextMenuComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-document-properties-overlay',\n  templateUrl: './pdf-document-properties-overlay.component.html',\n  styleUrls: ['./pdf-document-properties-overlay.component.css']\n})\nexport class PdfDocumentPropertiesOverlayComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'pdf-download',\n  templateUrl: './pdf-download.component.html',\n  styleUrls: ['./pdf-download.component.css']\n})\nexport class PdfDownloadComponent {\n  @Input()\n  public showDownloadButton = true;\n}\n","import { Component, Input, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'pdf-findbar',\n  templateUrl: './pdf-findbar.component.html',\n  styleUrls: ['./pdf-findbar.component.css']\n})\nexport class PdfFindbarComponent {\n  @Input()\n  public showFindButton = true;\n\n  @Input()\n  public mobileFriendlyZoomScale: number;\n\n  @Input()\n  public findbarLeft: string | undefined;\n\n  @Input()\n  public findbarTop: string | undefined;\n\n  /* UI templates */\n  @Input()\n  public customFindbarInputArea: TemplateRef<any>;\n\n  @Input()\n  public customFindbar: TemplateRef<any>;\n\n  @Input()\n  public customFindbarButtons: TemplateRef<any>;\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-findbar-message-container',\n  templateUrl: './pdf-findbar-message-container.component.html',\n  styleUrls: ['./pdf-findbar-message-container.component.css']\n})\nexport class PdfFindbarMessageContainerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-findbar-options-one-container',\n  templateUrl: './pdf-findbar-options-one-container.component.html',\n  styleUrls: ['./pdf-findbar-options-one-container.component.css']\n})\nexport class PdfFindbarOptionsOneContainerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-findbar-options-three-container',\n  templateUrl: './pdf-findbar-options-three-container.component.html',\n  styleUrls: ['./pdf-findbar-options-three-container.component.css']\n})\nexport class PdfFindbarOptionsThreeContainerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-findbar-options-two-container',\n  templateUrl: './pdf-findbar-options-two-container.component.html',\n  styleUrls: ['./pdf-findbar-options-two-container.component.css']\n})\nexport class PdfFindbarOptionsTwoContainerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'pdf-find-button',\n  templateUrl: './pdf-find-button.component.html',\n  styleUrls: ['./pdf-find-button.component.css']\n})\nexport class PdfFindButtonComponent implements OnInit {\n  @Input()\n  public showFindButton: boolean | undefined = undefined;\n\n  @Input()\n  public textLayer: boolean | undefined = undefined;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-find-entire-word',\n  templateUrl: './pdf-find-entire-word.component.html',\n  styleUrls: ['./pdf-find-entire-word.component.css']\n})\nexport class PdfFindEntireWordComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-find-fuzzily',\n  templateUrl: './pdf-find-fuzzily.component.html',\n  styleUrls: ['./pdf-find-fuzzily.component.css']\n})\nexport class PdfFindFuzzilyComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-find-highlight-all',\n  templateUrl: './pdf-find-highlight-all.component.html',\n  styleUrls: ['./pdf-find-highlight-all.component.css']\n})\nexport class PdfFindHighlightAllComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-find-ignore-accents',\n  templateUrl: './pdf-find-ignore-accents.component.html',\n  styleUrls: ['./pdf-find-ignore-accents.component.css']\n})\nexport class PdfFindIgnoreAccentsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, Input, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'pdf-find-input-area',\n  templateUrl: './pdf-find-input-area.component.html',\n  styleUrls: ['./pdf-find-input-area.component.css']\n})\nexport class PdfFindInputAreaComponent {\n  @Input()\n  public customFindbarInputArea: TemplateRef<any>;\n\n  constructor() {}\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-find-match-case',\n  templateUrl: './pdf-find-match-case.component.html',\n  styleUrls: ['./pdf-find-match-case.component.css']\n})\nexport class PdfFindMatchCaseComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PdfFindbarService {\n  public individualWordsMode = true;\n\n  public multipleSearchTexts = false;\n}\n","import { Component, OnInit } from '@angular/core';\nimport { PdfFindbarService } from '../../pdf-findbar-service';\n\n@Component({\n  selector: 'pdf-find-entire-phrase',\n  templateUrl: './pdf-find-entire-phrase.component.html',\n  styleUrls: ['./pdf-find-entire-phrase.component.css']\n})\nexport class PdfFindMultipleSearchTextsComponent implements OnInit {\n\n  constructor(public pdfFindbarService: PdfFindbarService) {}\n\n  ngOnInit() {}\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-find-next',\n  templateUrl: './pdf-find-next.component.html',\n  styleUrls: ['./pdf-find-next.component.css']\n})\nexport class PdfFindNextComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-find-previous',\n  templateUrl: './pdf-find-previous.component.html',\n  styleUrls: ['./pdf-find-previous.component.css']\n})\nexport class PdfFindPreviousComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-find-results-count',\n  templateUrl: './pdf-find-results-count.component.html',\n  styleUrls: ['./pdf-find-results-count.component.css']\n})\nexport class PdfFindResultsCountComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { PDFNotificationService } from './../../../pdf-notification-service';\nimport { Component, ViewChild, ElementRef} from '@angular/core';\nimport { IPDFViewerApplication } from '../../../options/pdf-viewer-application';\nimport { UpdateUIStateEvent } from '../../../events/update-ui-state-event';\n\n@Component({\n  selector: 'pdf-first-page',\n  templateUrl: './pdf-first-page.component.html',\n  styleUrls: ['./pdf-first-page.component.css']\n})\nexport class PdfFirstPageComponent {\n  public disableFirstPage = true;\n\n  @ViewChild('button')\n  private button: ElementRef<HTMLButtonElement>;\n\n  constructor(private notificationService: PDFNotificationService) {\n    const subscription = this.notificationService.onPDFJSInit.subscribe(() => {\n      this.onPdfJsInit();\n      subscription.unsubscribe();\n    });\n  }\n\n  public firstPage(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.dispatch('firstpage');\n  }\n\n  public onPdfJsInit(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.on('updateuistate', (event) => this.updateUIState(event));\n  }\n\n  public updateUIState(event: UpdateUIStateEvent): void {\n    this.disableFirstPage = event.pageNumber <= 1;\n    this.button.nativeElement.disabled = this.disableFirstPage;\n  }\n}\n","import { PDFNotificationService } from './../../../pdf-notification-service';\nimport { Component, ViewChild, ElementRef } from '@angular/core';\nimport { IPDFViewerApplication } from '../../../options/pdf-viewer-application';\nimport { UpdateUIStateEvent } from '../../../events/update-ui-state-event';\n\n@Component({\n  selector: 'pdf-last-page',\n  templateUrl: './pdf-last-page.component.html',\n  styleUrls: ['./pdf-last-page.component.css']\n})\nexport class PdfLastPageComponent {\n  public disableLastPage = true;\n\n  @ViewChild('button')\n  private button: ElementRef<HTMLButtonElement>;\n\n  constructor(private notificationService: PDFNotificationService) {\n    const subscription = this.notificationService.onPDFJSInit.subscribe(() => {\n      this.onPdfJsInit();\n      subscription.unsubscribe();\n    });\n  }\n\n  public firstPage(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.dispatch('firstpage');\n  }\n\n  public onPdfJsInit(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.on('updateuistate', event => this.updateUIState(event));\n  }\n\n  public updateUIState(event: UpdateUIStateEvent): void {\n    this.disableLastPage = event.pageNumber === event.pagesCount;\n    this.button.nativeElement.disabled = this.disableLastPage;\n  }\n\n  public lastPage(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.dispatch('lastpage');\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-next-page',\n  templateUrl: './pdf-next-page.component.html',\n  styleUrls: ['./pdf-next-page.component.css']\n})\nexport class PdfNextPageComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit() {}\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'pdf-open-file',\n  templateUrl: './pdf-open-file.component.html',\n  styleUrls: ['./pdf-open-file.component.css']\n})\nexport class PdfOpenFileComponent  {\n  @Input()\n  public showOpenFileButton = true;\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'pdf-page-number',\n  templateUrl: './pdf-page-number.component.html',\n  styleUrls: ['./pdf-page-number.component.css']\n})\nexport class PdfPageNumberComponent implements OnInit {\n  @Input()\n  public showPagingButtons = true;\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'pdf-paging-area',\n  templateUrl: './pdf-paging-area.component.html',\n  styleUrls: ['./pdf-paging-area.component.css']\n})\nexport class PdfPagingAreaComponent {\n\n  @Input()\n  public showPagingButtons = true;\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'pdf-presentation-mode',\n  templateUrl: './pdf-presentation-mode.component.html',\n  styleUrls: ['./pdf-presentation-mode.component.css']\n})\nexport class PdfPresentationModeComponent  {\n  @Input()\n  public showPresentationModeButton = true;\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-previous-page',\n  templateUrl: './pdf-previous-page.component.html',\n  styleUrls: ['./pdf-previous-page.component.css']\n})\nexport class PdfPreviousPageComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit() {}\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'pdf-print',\n  templateUrl: './pdf-print.component.html',\n  styleUrls: ['./pdf-print.component.css']\n})\nexport class PdfPrintComponent {\n  @Input()\n  public showPrintButton = true;\n}\n","import { PDFNotificationService } from './../../pdf-notification-service';\nimport { Component, Input, ViewChild, ElementRef } from '@angular/core';\nimport { IPDFViewerApplication } from '../../options/pdf-viewer-application';\nimport { UpdateUIStateEvent } from '../../events/update-ui-state-event';\n\n@Component({\n  selector: 'pdf-rotate-page',\n  templateUrl: './pdf-rotate-page.component.html',\n  styleUrls: ['./pdf-rotate-page.component.css']\n})\nexport class PdfRotatePageComponent  {\n  @Input()\n  public showRotateButton = true;\n\n  public disableRotate = true;\n\n  @Input()\n  public clockwise = true;\n\n  @Input()\n  public counterClockwise = true;\n\n  @ViewChild('button1')\n  private button1: ElementRef<HTMLButtonElement>;\n\n  @ViewChild('button2')\n  private button2: ElementRef<HTMLButtonElement>;\n\n  constructor(private notificationService: PDFNotificationService) {\n    const subscription = this.notificationService.onPDFJSInit.subscribe(() => {\n      this.onPdfJsInit();\n      subscription.unsubscribe();\n    });\n  }\n\n  public rotateCW(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.dispatch('rotatecw');\n  }\n\n  public rotateCCW(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.dispatch('rotateccw');\n  }\n\n\n  public onPdfJsInit(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.on('updateuistate', (event) => this.updateUIState(event));\n  }\n\n  public updateUIState(event: UpdateUIStateEvent): void {\n    this.disableRotate = event.pagesCount === 0;\n    if (this.button1) {\n      this.button1.nativeElement.disabled = this.disableRotate;\n    }\n    if (this.button2) {\n      this.button2.nativeElement.disabled = this.disableRotate;\n    }\n  }\n}\n","import { PdfFindbarService } from './../pdf-findbar-service';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-search-input-field',\n  templateUrl: './pdf-search-input-field.component.html',\n  styleUrls: ['./pdf-search-input-field.component.css'],\n})\nexport class PdfSearchInputFieldComponent {\n  constructor(public pdfFindbarService: PdfFindbarService) {}\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  OnChanges,\n  SimpleChanges,\n  TemplateRef,\n  ElementRef,\n  HostListener,\n  AfterViewInit,\n} from '@angular/core';\nimport { IPDFViewerApplication } from '../../options/pdf-viewer-application';\nimport { PDFNotificationService } from './../../pdf-notification-service';\n\n@Component({\n  selector: 'pdf-secondary-toolbar',\n  templateUrl: './pdf-secondary-toolbar.component.html',\n  styleUrls: ['./pdf-secondary-toolbar.component.css'],\n})\nexport class PdfSecondaryToolbarComponent implements OnInit, OnChanges, AfterViewInit {\n  @Input()\n  public customSecondaryToolbar: TemplateRef<any>;\n\n  @Input()\n  public secondaryToolbarTop;\n\n  @Input()\n  public mobileFriendlyZoomScale: number;\n\n  @Input()\n  public showPresentationModeButton = true;\n\n  @Input()\n  public showOpenFileButton = true;\n\n  @Input()\n  public showPrintButton = true;\n\n  @Input()\n  public showDownloadButton = true;\n\n  @Input()\n  public showBookmarkButton = true;\n\n  @Input()\n  public showPagingButtons = true;\n\n  @Input()\n  public showRotateButton = true;\n\n  @Input()\n  public showHandToolButton = true;\n\n  @Input()\n  public showScrollingButton = true;\n\n  @Input()\n  public showSpreadButton = true;\n\n  @Input()\n  public showPropertiesButton = true;\n\n  @Output()\n  public spreadChange = new EventEmitter<string>();\n\n  @Output()\n  public secondaryMenuIsEmpty = new EventEmitter<boolean>();\n\n  public disablePreviousPage = true;\n\n  public disableNextPage = true;\n\n  constructor(private element: ElementRef, private notificationService: PDFNotificationService) {\n    const subscription = this.notificationService.onPDFJSInit.subscribe(() => {\n      this.onPdfJsInit();\n      subscription.unsubscribe();\n    });\n  }\n\n  public onPdfJsInit(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.on('pagechanging', () => {\n      this.updateUIState();\n    });\n    PDFViewerApplication.eventBus.on('pagerendered', () => {\n      this.updateUIState();\n    });\n  }\n\n  public updateUIState(): void {\n    setTimeout(() => {\n      const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n      const currentPage = PDFViewerApplication.pdfViewer.currentPageNumber;\n      const previousButton = document.getElementById('previousPage') as HTMLButtonElement;\n      if (previousButton) {\n        this.disablePreviousPage = Number(currentPage) <= 1;\n        previousButton.disabled = this.disablePreviousPage;\n      }\n      const nextButton = document.getElementById('nextPage') as HTMLButtonElement;\n      if (nextButton) {\n        this.disableNextPage = currentPage === PDFViewerApplication.pagesCount;\n        nextButton.disabled = this.disableNextPage;\n      }\n    });\n  }\n\n  public onSpreadChange(newSpread: string): void {\n    this.spreadChange.emit(newSpread);\n  }\n\n  public ngOnChanges(changes: SimpleChanges): void {\n    setTimeout(() => this.checkVisibility());\n  }\n\n  @HostListener('window:resize')\n  public onResize() {\n    setTimeout(() => this.checkVisibility());\n  }\n\n  public ngAfterViewInit() {\n    setTimeout(() => this.checkVisibility());\n  }\n\n  public ngOnInit() {\n    setTimeout(() => this.checkVisibility());\n  }\n\n  public checkVisibility(): void {\n    let visibleButtons = 0;\n    const e = this.element.nativeElement as HTMLElement;\n    const f = e.children.item(0);\n    if (f) {\n      const g = f.children.item(0);\n      if (g && g instanceof HTMLElement) {\n        visibleButtons = this.checkVisibilityRecursively(g);\n      }\n    }\n    this.secondaryMenuIsEmpty.emit(visibleButtons === 0);\n  }\n\n  private checkVisibilityRecursively(e: HTMLElement): number {\n    if (e.style.display === 'none') {\n      return 0;\n    }\n    if (e.classList.contains('hidden')) {\n      return 0;\n    }\n    if (e.classList.contains('invisible')) {\n      return 0;\n    }\n\n    const style = window.getComputedStyle(e);\n    if (style.display === 'none') {\n      return 0;\n    }\n\n    if (e instanceof HTMLButtonElement || e instanceof HTMLAnchorElement) {\n      return 1;\n    }\n    let count = 0;\n    const children = e.children;\n    if (children && children.length) {\n      for (let i = 0; i < children.length && count === 0; i++) {\n        const child = children.item(i);\n        if (child && child instanceof HTMLElement) {\n          count += this.checkVisibilityRecursively(child);\n        }\n      }\n    }\n    return count;\n  }\n\n  public previousPage(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.dispatch('previouspage');\n  }\n\n  public nextPage(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.dispatch('nextpage');\n  }\n}\n","import { Component, Input, TemplateRef, AfterContentInit, AfterViewInit, ViewChild, ElementRef, Output, EventEmitter, ViewEncapsulation, NgZone, ChangeDetectorRef } from '@angular/core';\nimport { PdfThumbnailDrawnEvent } from '../../events/pdf-thumbnail-drawn-event';\n\n@Component({\n  selector: 'pdf-sidebar',\n  templateUrl: './pdf-sidebar.component.html',\n  styleUrls: ['./pdf-sidebar.component.css'],\n})\nexport class PdfSidebarComponent {\n  @Input()\n  public sidebarPositionTop: number;\n\n  @Input()\n  public sidebarVisible = true;\n\n  @Input()\n  public showSidebarButton = true;\n\n  @Input()\n  public customSidebar: TemplateRef<any>;\n\n  @Input()\n  public customThumbnail: TemplateRef<any>;\n\n  @Output()\n  public thumbnailDrawn = new EventEmitter<PdfThumbnailDrawnEvent>();\n\n  public hideSidebarToolbar = true;\n\n  constructor(private elementRef: ElementRef, private ref: ChangeDetectorRef) {}\n\n  public showToolbarWhenNecessary(): void {\n    const element = this.elementRef.nativeElement as HTMLElement;\n    const buttons = element.querySelectorAll('button');\n    let visible = 0;\n    for (let index = 0; index < buttons.length; index++) {\n      const b = buttons.item(index);\n      if (!b.hidden) {\n        visible++;\n      }\n    }\n    this.hideSidebarToolbar = visible <= 1;\n    this.ref.markForCheck();\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'pdf-toggle-secondary-toolbar',\n  templateUrl: './pdf-toggle-secondary-toolbar.component.html',\n  styleUrls: ['./pdf-toggle-secondary-toolbar.component.css']\n})\nexport class PdfToggleSecondaryToolbarComponent implements OnInit {\n  @Input()\n  public showSecondaryToolbarButton = true;\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'pdf-toggle-sidebar',\n  templateUrl: './pdf-toggle-sidebar.component.html',\n  styleUrls: ['./pdf-toggle-sidebar.component.css']\n})\nexport class PdfToggleSidebarComponent implements OnInit {\n  @Input()\n  public showSidebarButton = true;\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","import { Component, OnInit, Input, TemplateRef, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'pdf-toolbar',\n  templateUrl: './pdf-toolbar.component.html',\n  styleUrls: ['./pdf-toolbar.component.css']\n})\nexport class PdfToolbarComponent {\n  @Input()\n  public customToolbar: TemplateRef<any>;\n\n  @Input()\n  public mobileFriendlyZoomScale = 1;\n\n  @Input()\n  public primaryMenuVisible = true;\n\n  @Input()\n  public showBookmarkButton = true;\n\n  @Input()\n  public showDownloadButton = true;\n\n  @Input()\n  public showFindButton: boolean | undefined = undefined;\n\n  @Input()\n  public showHandToolButton = true;\n\n  @Input()\n  public showOpenFileButton = true;\n\n  @Input()\n  public showPrintButton = true;\n\n  @Input()\n  public showPagingButtons = true;\n\n  @Input()\n  public showPresentationModeButton = false;\n\n  @Input()\n  public showRotateButton = true;\n\n  @Input()\n  public showSecondaryToolbarButton = true;\n\n  @Input()\n  public showSidebarButton = true;\n\n  @Input()\n  public showZoomButtons = true;\n\n  @Input()\n  public textLayer: boolean | undefined = undefined;\n\n  @Input()\n  public toolbarPaddingTop = '0px';\n\n  @Input()\n  public toolbarWidth = '100%';\n\n  @Input()\n  public zoomLevels = ['auto', 'page-actual', 'page-fit', 'page-width', 0.5, 0.75, 1, 1.25, 1.5, 2, 3, 4];\n\n  constructor() {}\n}\n","import { Component, OnInit, ViewChild, Output, EventEmitter, Input, AfterViewInit, ElementRef } from '@angular/core';\n\ninterface ZoomLevel {\n  id: string;\n  dataL10nId: string;\n  dataL10nArgs: string | undefined;\n  value: string;\n  displayValue: string;\n}\n@Component({\n  selector: 'pdf-zoom-dropdown',\n  templateUrl: './pdf-zoom-dropdown.component.html',\n  styleUrls: ['./pdf-zoom-dropdown.component.css'],\n})\nexport class PdfZoomDropdownComponent implements OnInit {\n\n  public _zoomLevels: Array<ZoomLevel> = [];\n  // ['auto', 'page-actual', 'page-fit', 'page-width', 0.5, 0.75, 1, 1.25, 1.5, 2, 3, 4];\n\n  @Input()\n  public set zoomLevels(levels: Array<string | number>) {\n    this._zoomLevels = levels.map((l) => this.valueToZoomLevel(l));\n  }\n\n\n  @ViewChild('sizeSelector') sizeSelector: any;\n\n  constructor(private element: ElementRef) {}\n\n  ngOnInit() {\n    const callback = (e) => {\n      document.removeEventListener('localized', callback);\n    };\n\n    document.addEventListener('localized', callback);\n  }\n\n  private valueToZoomLevel(value: string | number): ZoomLevel {\n    if (value.toString().endsWith('%')) {\n      value = value.toString().replace('%', '');\n      value = Number(value) / 100;\n    }\n    const numericalValue = Number(value);\n    if (!numericalValue) {\n      const v = String(value);\n      return {\n        id: this.snakeToCamel(value + 'Option'),\n        value: v,\n        dataL10nId: 'page_scale_' + v.replace('page-', ''),\n        dataL10nArgs: undefined,\n        displayValue: v,\n      };\n    }\n    const percentage = Math.round(numericalValue * 100);\n    return {\n      id: `scale_${percentage}`,\n      value: String(numericalValue),\n      dataL10nId: 'page_scale_percent',\n      dataL10nArgs: `{ \"scale\": ${percentage} }`,\n      displayValue: String(percentage) + '%',\n    };\n  }\n\n  private snakeToCamel(str: string) {\n    // idea found here: https://hisk.io/javascript-snake-to-camel/\n    return str.replace(/([-_][a-z])/g, (group) => group.toUpperCase().replace('-', '').replace('_', ''));\n  }\n\n  /**\n   * Increase the width of the zoom dropdown DOM element if, and only if, it's\n   * too narrow to fit the *longest* of the localized strings.\n   * @private\n  async _adjustScaleWidth() {\n    const { items, l10n } = this;\n\n    const predefinedValuesPromise = Promise.all([\n      l10n.get(\"page_scale_auto\", null, \"Automatic Zoom\"),\n      l10n.get(\"page_scale_actual\", null, \"Actual Size\"),\n      l10n.get(\"page_scale_fit\", null, \"Page Fit\"),\n      l10n.get(\"page_scale_width\", null, \"Page Width\"),\n    ]);\n\n    // The temporary canvas is used to measure text length in the DOM.\n    let canvas = document.createElement(\"canvas\");\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"MOZCENTRAL || GENERIC\")\n    ) {\n      canvas.mozOpaque = true;\n    }\n    let ctx = canvas.getContext(\"2d\", { alpha: false });\n\n    await animationStarted;\n    const { fontSize, fontFamily } = getComputedStyle(items.scaleSelect);\n    ctx.font = `${fontSize} ${fontFamily}`;\n\n    let maxWidth = 0;\n    for (const predefinedValue of await predefinedValuesPromise) {\n      const { width } = ctx.measureText(predefinedValue);\n      if (width > maxWidth) {\n        maxWidth = width;\n      }\n    }\n    const overflow = SCALE_SELECT_WIDTH - SCALE_SELECT_CONTAINER_WIDTH;\n    maxWidth += 10 + 1.5 * overflow;\n\n    if (maxWidth > SCALE_SELECT_CONTAINER_WIDTH) {\n      items.scaleSelect.style.width = `${maxWidth + overflow}px`;\n      items.scaleSelectContainer.style.width = `${maxWidth}px`;\n    }\n    // Zeroing the width and height cause Firefox to release graphics resources\n    // immediately, which can greatly reduce memory consumption.\n    canvas.width = 0;\n    canvas.height = 0;\n    canvas = ctx = null;\n  }\n*/\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-zoom-in',\n  templateUrl: './pdf-zoom-in.component.html',\n  styleUrls: ['./pdf-zoom-in.component.css']\n})\nexport class PdfZoomInComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-zoom-out',\n  templateUrl: './pdf-zoom-out.component.html',\n  styleUrls: ['./pdf-zoom-out.component.css']\n})\nexport class PdfZoomOutComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'pdf-zoom-toolbar',\n  templateUrl: './pdf-zoom-toolbar.component.html',\n  styleUrls: ['./pdf-zoom-toolbar.component.css']\n})\nexport class PdfZoomToolbarComponent {\n\n  @Input()\n  public showZoomButtons = true;\n\n  @Input()\n  public zoomLevels = ['auto', 'page-actual', 'page-fit', 'page-width', 0.5, 0.75, 1, 1.25, 1.5, 2, 3, 4];\n}\n","import { PdfCursorTools } from './../../options/pdf-cursor-tools';\nimport { Component, Input } from '@angular/core';\nimport { IPDFViewerApplication } from '../../options/pdf-viewer-application';\nimport { PDFNotificationService } from '../../pdf-notification-service';\nimport { HandtoolChanged } from '../../events/handtool-changed';\n\n@Component({\n  selector: 'pdf-select-tool',\n  templateUrl: './pdf-select-tool.component.html',\n  styleUrls: ['./pdf-select-tool.component.css']\n})\nexport class PdfSelectToolComponent {\n  @Input()\n  public showSelectToolButton = true;\n\n  public isSelected = true;\n\n  constructor(private notificationService: PDFNotificationService) {\n    const subscription = this.notificationService.onPDFJSInit.subscribe(() => {\n      this.onPdfJsInit();\n      subscription.unsubscribe();\n    });\n  }\n\n  private onPdfJsInit() {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.on('cursortoolchanged',\n      ({ tool }: HandtoolChanged) => (this.isSelected = tool === PdfCursorTools.SELECT));\n  }\n\n  public onClick(): void {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n    PDFViewerApplication.eventBus.dispatch('switchcursortool', { tool: PdfCursorTools.SELECT });\n  }\n}\n","import { DOCUMENT } from '@angular/common';\nimport { Component, Inject, Input, OnChanges, OnDestroy, OnInit, Renderer2 } from '@angular/core';\n\n@Component({\n  selector: 'pdf-dynamic-css',\n  templateUrl: './dynamic-css.component.html',\n  styleUrls: ['./dynamic-css.component.css']\n})\nexport class DynamicCssComponent implements OnInit, OnChanges, OnDestroy {\n  @Input()\n  public zoom = 1.0;\n\n  @Input()\n  public width = 100;\n\n  public xs = 490;\n\n  public sm = 560;\n\n  public md = 610;\n\n  public lg = 660;\n\n  public xl = 740;\n\n  public xxl = 830;\n\n  public get style(): string {\n    return `\n@media all and (max-width: ${this.xl}px) {\n  #toolbarViewerMiddle {\n    display: table;\n    margin: auto;\n    left: auto;\n    position: inherit;\n    transform: none;\n  }\n}\n\n@media all and (max-width: 840px) {\n  #sidebarContent {\n    background-color: rgba(0, 0, 0, 0.7);\n  }\n\n  html[dir='ltr'] #outerContainer.sidebarOpen #viewerContainer {\n    left: 0px !important;\n  }\n  html[dir='rtl'] #outerContainer.sidebarOpen #viewerContainer {\n    right: 0px !important;\n  }\n\n  #outerContainer .hiddenLargeView,\n  #outerContainer .hiddenMediumView {\n    display: inherit;\n  }\n  #outerContainer .visibleLargeView,\n  #outerContainer .visibleMediumView {\n    display: none;\n  }\n}\n\n@media all and (max-width: ${this.lg}px) {\n  .toolbarButtonSpacer {\n    width: 15px;\n  }\n\n  #outerContainer .hiddenLargeView {\n    display: none;\n  }\n  #outerContainer .visibleLargeView {\n    display: inherit;\n  }\n}\n\n@media all and (max-width: ${this.md}px) {\n  .toolbarButtonSpacer {\n    display: none;\n  }\n  #outerContainer .hiddenMediumView {\n    display: none;\n  }\n  #outerContainer .visibleMediumView {\n    display: inherit;\n  }\n}\n\n@media all and (max-width: ${this.sm}px) {\n  #outerContainer .hiddenSmallView,\n  #outerContainer .hiddenSmallView * {\n    display: none;\n  }\n  #outerContainer .visibleSmallView {\n    display: inherit;\n  }\n  .toolbarButtonSpacer {\n    width: 0;\n  }\n  html[dir='ltr'] .findbar {\n    left: 38px;\n  }\n  html[dir='rtl'] .findbar {\n    right: 38px;\n  }\n}\n\n@media all and (max-width: ${this.xs}px) {\n  #scaleSelectContainer {\n    display: none;\n  }\n}\n\n#outerContainer .visibleXLView,\n#outerContainer .visibleXXLView,\n#outerContainer .visibleTinyView {\n  display: none;\n}\n\n#outerContainer .hiddenXLView,\n#outerContainer .hiddenXXLView {\n  display: unset;\n}\n\n@media all and (max-width: ${this.xl}px) {\n  #outerContainer .hiddenXLView {\n    display: none;\n  }\n  #outerContainer .visibleXLView {\n    display: inherit;\n  }\n\n  #toolbarViewerMiddle {\n    -webkit-transform: translateX(-36%);\n    transform: translateX(-36%);\n    display: unset;\n    margin: unset;\n    left: 50%;\n    position: absolute;\n  }\n}\n\n@media all and (max-width: ${this.xxl}px) {\n  #outerContainer .hiddenXXLView {\n    display: none;\n  }\n  #outerContainer .visibleXXLView {\n    display: inherit;\n  }\n}\n\n@media all and (max-width: ${this.md}px) {\n  #toolbarViewerMiddle {\n    -webkit-transform: translateX(-26%);\n    transform: translateX(-26%);\n  }\n}\n\n@media all and (max-width: ${this.xs}px) {\n  #outerContainer .hiddenTinyView,\n  #outerContainer .hiddenTinyView * {\n    display: none;\n  }\n  #outerContainer .visibleTinyView {\n    display: inherit;\n  }\n}\n  `;\n}\n\n  constructor(private renderer: Renderer2, @Inject(DOCUMENT) private document: any) {}\n\n  ngOnInit() {\n    this.injectStyle();\n  }\n\n  ngOnChanges() {\n    const fullWith = this.document.body.clientWidth;\n    const partialViewScale = fullWith / this.width;\n    const scaleFactor = partialViewScale * (this.zoom ? this.zoom : 1);\n\n    this.xs = scaleFactor * 490;\n    this.sm = scaleFactor * 560;\n    this.md = scaleFactor * 610;\n    this.lg = scaleFactor * 660;\n    this.xl = scaleFactor * 740;\n    this.xxl = scaleFactor * 830;\n\n    const styles = this.document.getElementById('pdf-dynamic-css');\n    if (styles) {\n      styles.innerHTML = this.style;\n    }\n  }\n\n  private injectStyle() {\n    const styles = this.document.createElement('STYLE') as HTMLStyleElement;\n    styles.id = 'pdf-dynamic-css';\n    styles.innerHTML = this.style;\n    this.renderer.appendChild(this.document.head, styles);\n  }\n\n  public ngOnDestroy() {\n    const styles = this.document.getElementById('pdf-dynamic-css') as HTMLElement;\n    if (styles && styles.parentElement) {\n      (styles.parentElement as any).removeChild(styles);\n    }\n  }\n}\n","import { Component, Input, TemplateRef, ViewChild, ElementRef, OnDestroy, EventEmitter, Output } from '@angular/core';\nimport { PdfThumbnailDrawnEvent } from '../../../events/pdf-thumbnail-drawn-event';\n\ndeclare class PDFThumbnailView {\n  anchor: HTMLAnchorElement;\n  div: HTMLElement;\n  ring: HTMLElement;\n  canvasWidth: number;\n  canvasHeight: number;\n}\n\ndeclare class PDFLinkService {\n  public page: number;\n  public pagesCount: number;\n  public getAnchorUrl(targetUrl: string): string;\n}\n\nconst THUMBNAIL_CANVAS_BORDER_WIDTH = 1; // px\n\n@Component({\n  selector: 'pdf-sidebar-content',\n  templateUrl: './pdf-sidebar-content.component.html',\n  styleUrls: ['./pdf-sidebar-content.component.css'],\n})\nexport class PdfSidebarContentComponent implements OnDestroy {\n  @Input()\n  public customThumbnail: TemplateRef<any>;\n\n  @ViewChild('thumbnailViewTemplate')\n  public thumbnailViewTemplate: ElementRef;\n\n  private linkService: PDFLinkService | undefined;\n\n  @Output()\n  public thumbnailDrawn = new EventEmitter<PdfThumbnailDrawnEvent>();\n\n  public top = '32px';\n\n  public _hideSidebarToolbar = false;\n\n  constructor() {\n    (window as any).pdfThumbnailGeneratorReady = () => this.pdfThumbnailGeneratorReady();\n    (window as any).pdfThumbnailGenerator = (\n      pdfThumbnailView: PDFThumbnailView,\n      linkService: any,\n      id: number,\n      container: HTMLDivElement,\n      thumbPageTitlePromise: Promise<string>\n    ) => this.createThumbnail(pdfThumbnailView, linkService, id, container, thumbPageTitlePromise);\n  }\n\n  public ngOnDestroy(): void {\n    this.linkService = undefined;\n  }\n\n  public pdfThumbnailGeneratorReady(): boolean {\n    if (!this.thumbnailViewTemplate) {\n      return false;\n    }\n    const t = this.thumbnailViewTemplate.nativeElement as HTMLElement;\n    return !!t && !!t.innerHTML && t.innerHTML.length > 0;\n  }\n\n  private createThumbnail(\n    pdfThumbnailView: PDFThumbnailView,\n    linkService: PDFLinkService,\n    id: number,\n    container: HTMLDivElement,\n    thumbPageTitlePromise: Promise<string>\n  ) {\n    this.linkService = linkService;\n    const template = this.thumbnailViewTemplate;\n    // get the inner HTML without the attributes and classes added by Angular\n    const inner = template.nativeElement.innerHTML\n      .split(/_ng\\w+-\\w+-\\w+=\"\"/g)\n      .join('')\n      .split(/ng-\\w+-\\w+/g)\n      .join('')\n      .split(/<!--[\\s\\S]*?-->/g)\n      .join('');\n\n    const borderAdjustment = 2 * THUMBNAIL_CANVAS_BORDER_WIDTH;\n\n    const widthOfRing = pdfThumbnailView.canvasWidth + borderAdjustment + 'px';\n    const heightOfRing = pdfThumbnailView.canvasHeight + borderAdjustment + 'px';\n\n    const newHtml = inner.split('WIDTH_OF_RING').join(widthOfRing).split('HEIGHT_OF_RING').join(heightOfRing).split('PAGE_NUMBER').join(id);\n    const newElement = this.createElementFromHTML(newHtml);\n    newElement.classList.remove('pdf-viewer-template');\n\n    const anchor = newElement as HTMLAnchorElement;\n    anchor.href = linkService.getAnchorUrl('#page=' + id);\n    thumbPageTitlePromise.then((msg) => {\n      anchor.title = msg;\n    });\n    anchor.onclick = function () {\n      linkService.page = id;\n      return false;\n    };\n    pdfThumbnailView.anchor = anchor;\n\n    const ring = newElement.getElementsByClassName('image-container')[0] as HTMLElement;\n    pdfThumbnailView.ring = ring;\n    pdfThumbnailView.div = newElement.getElementsByClassName('thumbnail')[0] as HTMLElement;\n\n    container.appendChild(newElement);\n\n    const thumbnailDrawnEvent: PdfThumbnailDrawnEvent = {\n      thumbnail: newElement,\n      container: container,\n      pageId: id,\n    };\n    this.thumbnailDrawn.emit(thumbnailDrawnEvent);\n  }\n\n  private createElementFromHTML(htmlString): HTMLElement {\n    const div = document.createElement('div');\n    div.innerHTML = htmlString.trim();\n\n    // Change this to div.childNodes to support multiple top-level nodes\n    return div.firstChild as HTMLElement;\n  }\n\n  public onKeyDown(event: KeyboardEvent): void {\n    if (event.code === 'ArrowDown') {\n      if (this.linkService) {\n        if (event.ctrlKey || event.metaKey) {\n          this.linkService.page = this.linkService.pagesCount;\n        } else if (this.linkService.page < this.linkService.pagesCount) {\n          this.linkService.page = this.linkService.page + 1;\n        }\n        event.preventDefault();\n      }\n    } else if (event.code === 'ArrowUp') {\n      if (this.linkService) {\n        if (event.ctrlKey || event.metaKey) {\n          this.linkService.page = 1;\n        } else if (this.linkService.page > 1) {\n          this.linkService.page = this.linkService.page - 1;\n        }\n        event.preventDefault();\n      }\n    }\n  }\n\n  @Input()\n  public set hideSidebarToolbar(h: boolean) {\n    this._hideSidebarToolbar = h;\n    if (this._hideSidebarToolbar) {\n      this.top = '0';\n    } else {\n      this.top = '32px';\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'pdf-sidebar-toolbar',\n  templateUrl: './pdf-sidebar-toolbar.component.html',\n  styleUrls: ['./pdf-sidebar-toolbar.component.css']\n})\nexport class PdfSidebarToolbarComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'pdf-light-theme',\n  templateUrl: './pdf-light-theme.component.html',\n  styleUrls: ['colors.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class PdfLightThemeComponent {}\n","import { Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'pdf-original-theme',\n  templateUrl: './pdf-original.component.html',\n  styleUrls: ['./viewer-with-images.css', './ngx-extended-pdf-viewer.component.css'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class PdfOriginalComponent {}\n","import { Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'pdf-dark-theme',\n  templateUrl: './pdf-dark-theme.component.html',\n  styleUrls: ['colors.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class PdfDarkThemeComponent {}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { IPDFViewerApplication } from './options/pdf-viewer-application';\n\n@Pipe({\n  name: 'translate'\n})\nexport class TranslatePipe implements PipeTransform {\n\n  transform(key: string, fallback: string): Promise<string> {\n    return this.translate(key, fallback);\n  }\n\n  public async translate(key: string, englishText: string): Promise<string> {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any).PDFViewerApplication;\n\n    return PDFViewerApplication.l10n.get(key, null, englishText);\n  }\n}\n","import { PdfHandToolComponent } from './toolbar/pdf-hand-tool/pdf-hand-tool.component';\n// tslint:disable:max-line-length\n\nimport { CommonModule, Location, LocationStrategy, PathLocationStrategy } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IPDFViewerApplicationOptions } from './options/pdf-viewer-application-options';\nimport { NgModule } from '@angular/core';\nimport { NgxExtendedPdfViewerComponent } from './ngx-extended-pdf-viewer.component';\nimport { NgxExtendedPdfViewerService } from './ngx-extended-pdf-viewer.service';\nimport { PdfBookmarkComponent } from './toolbar/pdf-bookmark/pdf-bookmark.component';\nimport { PdfContextMenuComponent } from './toolbar/pdf-context-menu/pdf-context-menu.component';\nimport { PdfDocumentPropertiesOverlayComponent } from './document-properties/pdf-document-properties-overlay/pdf-document-properties-overlay.component';\nimport { PdfDownloadComponent } from './toolbar/pdf-download/pdf-download.component';\nimport { PdfDummyComponentsComponent } from './pdf-dummy-components/pdf-dummy-components.component';\nimport { PdfFindbarComponent } from './toolbar/pdf-findbar/pdf-findbar.component';\nimport { PdfFindbarMessageContainerComponent } from './toolbar/pdf-findbar/pdf-findbar-message-container/pdf-findbar-message-container.component';\nimport { PdfFindbarOptionsOneContainerComponent } from './toolbar/pdf-findbar/pdf-findbar-options-one-container/pdf-findbar-options-one-container.component';\nimport { PdfFindbarOptionsThreeContainerComponent } from './toolbar/pdf-findbar/pdf-findbar-options-three-container/pdf-findbar-options-three-container.component';\nimport { PdfFindbarOptionsTwoContainerComponent } from './toolbar/pdf-findbar/pdf-findbar-options-two-container/pdf-findbar-options-two-container.component';\nimport { PdfFindButtonComponent } from './toolbar/pdf-find-button/pdf-find-button.component';\nimport { PdfFindEntireWordComponent } from './toolbar/pdf-findbar/pdf-findbar-options-two-container/pdf-find-entire-word/pdf-find-entire-word.component';\nimport { PdfFindFuzzilyComponent } from './toolbar/pdf-findbar/pdf-findbar-options-three-container/pdf-find-fuzzily/pdf-find-fuzzily.component';\nimport { PdfFindHighlightAllComponent } from './toolbar/pdf-findbar/pdf-findbar-options-one-container/pdf-find-highlight-all/pdf-find-highlight-all.component';\nimport { PdfFindIgnoreAccentsComponent } from './toolbar/pdf-findbar/pdf-findbar-options-three-container/pdf-find-ignore-accents/pdf-find-ignore-accents.component';\nimport { PdfFindInputAreaComponent } from './toolbar/pdf-findbar/pdf-find-input-area/pdf-find-input-area.component';\nimport { PdfFindMatchCaseComponent } from './toolbar/pdf-findbar/pdf-findbar-options-one-container/pdf-find-match-case/pdf-find-match-case.component';\nimport { PdfFindMultipleSearchTextsComponent } from './toolbar/pdf-findbar/pdf-findbar-options-two-container/pdf-find-entire-phrase/pdf-find-entire-phrase.component';\nimport { PdfFindNextComponent } from './toolbar/pdf-findbar/pdf-find-next/pdf-find-next.component';\nimport { PdfFindPreviousComponent } from './toolbar/pdf-findbar/pdf-find-previous/pdf-find-previous.component';\nimport { PdfFindResultsCountComponent } from './toolbar/pdf-findbar/pdf-findbar-options-three-container/pdf-find-results-count/pdf-find-results-count.component';\nimport { PdfFirstPageComponent } from './toolbar/pdf-paging-area/pdf-first-page/pdf-first-page.component';\nimport { PdfLastPageComponent } from './toolbar/pdf-paging-area/pdf-last-page/pdf-last-page.component';\nimport { PdfNextPageComponent } from './toolbar/pdf-paging-area/pdf-next-page/pdf-next-page.component';\nimport { PdfOpenFileComponent } from './toolbar/pdf-open-file/pdf-open-file.component';\nimport { PdfPageNumberComponent } from './toolbar/pdf-paging-area/pdf-page-number/pdf-page-number.component';\nimport { PdfPagingAreaComponent } from './toolbar/pdf-paging-area/pdf-paging-area.component';\nimport { PdfPresentationModeComponent } from './toolbar/pdf-presentation-mode/pdf-presentation-mode.component';\nimport { PdfPreviousPageComponent } from './toolbar/pdf-paging-area/pdf-previous-page/pdf-previous-page.component';\nimport { PdfPrintComponent } from './toolbar/pdf-print/pdf-print.component';\nimport { PdfRotatePageComponent } from './toolbar/pdf-rotate-page/pdf-rotate-page.component';\nimport { PdfSearchInputFieldComponent } from './toolbar/pdf-findbar/pdf-search-input-field/pdf-search-input-field.component';\nimport { PdfSecondaryToolbarComponent } from './secondary-toolbar/pdf-secondary-toolbar/pdf-secondary-toolbar.component';\nimport { PdfSidebarComponent } from './sidebar/pdf-sidebar/pdf-sidebar.component';\nimport { PdfToggleSecondaryToolbarComponent } from './toolbar/pdf-toggle-secondary-toolbar/pdf-toggle-secondary-toolbar.component';\nimport { PdfToggleSidebarComponent } from './toolbar/pdf-toggle-sidebar/pdf-toggle-sidebar.component';\nimport { PdfToolbarComponent } from './toolbar/pdf-toolbar/pdf-toolbar.component';\nimport { PdfZoomDropdownComponent } from './toolbar/pdf-zoom-toolbar/pdf-zoom-dropdown/pdf-zoom-dropdown.component';\nimport { PdfZoomInComponent } from './toolbar/pdf-zoom-toolbar/pdf-zoom-in/pdf-zoom-in.component';\nimport { PdfZoomOutComponent } from './toolbar/pdf-zoom-toolbar/pdf-zoom-out/pdf-zoom-out.component';\nimport { PdfZoomToolbarComponent } from './toolbar/pdf-zoom-toolbar/pdf-zoom-toolbar.component';\nimport { PdfSelectToolComponent } from './toolbar/pdf-select-tool/pdf-select-tool.component';\nimport { DynamicCssComponent } from './dynamic-css/dynamic-css.component';\nimport { PDFNotificationService } from './pdf-notification-service';\nimport { PdfSidebarContentComponent } from './sidebar/pdf-sidebar/pdf-sidebar-content/pdf-sidebar-content.component';\nimport { PdfSidebarToolbarComponent } from './sidebar/pdf-sidebar/pdf-sidebar-toolbar/pdf-sidebar-toolbar.component';\nimport { PdfLightThemeComponent } from './theme/pdf-light-theme/pdf-light-theme.component';\nimport { PdfOriginalComponent } from './theme/pdf-original-theme/pdf-original.component';\nimport { PdfDarkThemeComponent } from './theme/pdf-dark-theme/pdf-dark-theme.component';\nimport { TranslatePipe } from './translate.pipe';\nif (!Promise['allSettled']) {\n  if (!!window['Zone'] && !window['__zone_symbol__Promise.allSettled']) {\n    console.error(\n      \"Please update zone.js to version 0.10.3 or higher. Otherwise, you'll run the slow ECMAScript 5 version even on modern browser that can run the fast ESMAScript 2015 version.\"\n    );\n  }\n}\n\nfunction isKeyIgnored(cmd: number, keycode: number | 'WHEEL'): boolean {\n  const PDFViewerApplicationOptions: IPDFViewerApplicationOptions = (window as any).PDFViewerApplicationOptions;\n\n  const ignoreKeys: Array<string> = PDFViewerApplicationOptions.get('ignoreKeys');\n  const acceptKeys: Array<string> = PDFViewerApplicationOptions.get('acceptKeys');\n  if (keycode === 'WHEEL') {\n    if (isKeyInList(ignoreKeys, cmd, 'WHEEL')) {\n      return true;\n    }\n    if (!!acceptKeys && acceptKeys.length > 0) {\n      return !isKeyInList(acceptKeys, cmd, 'WHEEL');\n    }\n\n    return false;\n  }\n\n  if (keycode === 16 || keycode === 17 || keycode === 18 || keycode === 224) {\n    // ignore solitary SHIFT, ALT, CMD, and CTRL because they only make sense as two-key-combinations\n    return true;\n  }\n  // cmd is a bit-array:\n  // 1 == CTRL\n  // 2 == ALT\n  // 4 == SHIFT\n  // 8 == META\n  const ignoreKeyboard = PDFViewerApplicationOptions.get('ignoreKeyboard');\n  if (!!ignoreKeyboard) {\n    return true;\n  }\n\n  if (!!ignoreKeys && ignoreKeys.length > 0) {\n    if (isKeyInList(ignoreKeys, cmd, keycode)) {\n      return true;\n    }\n  }\n\n  if (!!acceptKeys && acceptKeys.length > 0) {\n    return !isKeyInList(acceptKeys, cmd, keycode);\n  }\n  return false;\n}\n\nfunction isKeyInList(settings: Array<string>, cmd: number, keycode: number | 'WHEEL'): boolean {\n  if (!settings) {\n    return true;\n  }\n  return settings.some((keyDef) => isKey(keyDef, cmd, keycode));\n}\n\nfunction isKey(keyDef: string, cmd: number, keycode: number | 'WHEEL'): boolean {\n  let cmdDef = 0;\n  let key = 0;\n  keyDef = keyDef.toLowerCase();\n  // tslint:disable: no-bitwise\n  if (keyDef.includes('ctrl+')) {\n    cmdDef |= 1;\n    keyDef = keyDef.replace('ctrl+', '');\n  }\n  if (keyDef.includes('cmd+')) {\n    cmdDef |= 8;\n    keyDef = keyDef.replace('cmd+', '');\n  }\n  if (keyDef.includes('alt+')) {\n    cmdDef |= 2;\n    keyDef = keyDef.replace('alt+', '');\n  }\n  if (keyDef.includes('shift+')) {\n    cmdDef |= 4;\n    keyDef = keyDef.replace('shift+', '');\n  }\n  if (keyDef.includes('meta+')) {\n    cmdDef |= 8;\n    keyDef = keyDef.replace('meta+', '');\n  }\n\n  if (keyDef === 'up') {\n    key = 38;\n  } else if (keyDef === 'down') {\n    key = 40;\n  } else if (keyDef === '+' || keyDef === '\"+\"') {\n    key = 171;\n  } else if (keyDef === '-' || keyDef === '\"-\"') {\n    key = 173;\n  } else if (keyDef === 'esc') {\n    key = 27;\n  } else if (keyDef === 'enter') {\n    key = 13;\n  } else if (keyDef === 'space') {\n    key = 32;\n  } else if (keyDef === 'f4') {\n    key = 115;\n  } else if (keyDef === 'backspace') {\n    key = 8;\n  } else if (keyDef === 'home') {\n    key = 36;\n  } else if (keyDef === 'end') {\n    key = 35;\n  } else if (keyDef === 'left') {\n    key = 37;\n  } else if (keyDef === 'right') {\n    key = 39;\n  } else if (keyDef === 'pagedown') {\n    key = 34;\n  } else if (keyDef === 'pageup') {\n    key = 33;\n  } else {\n    key = keyDef.toUpperCase().charCodeAt(0);\n  }\n  if (keycode === 'WHEEL') {\n    return keyDef === 'wheel' && cmd === cmdDef;\n  }\n  return key === keycode && cmd === cmdDef;\n}\n\nif (typeof window !== 'undefined') {\n  (window as any).isKeyIgnored = isKeyIgnored;\n}\n\n@NgModule({\n  imports: [CommonModule, FormsModule],\n  declarations: [\n    DynamicCssComponent,\n    NgxExtendedPdfViewerComponent,\n    PdfZoomDropdownComponent,\n    PdfContextMenuComponent,\n    PdfPresentationModeComponent,\n    PdfOpenFileComponent,\n    PdfPrintComponent,\n    PdfDownloadComponent,\n    PdfBookmarkComponent,\n    PdfZoomToolbarComponent,\n    PdfPagingAreaComponent,\n    PdfFindbarComponent,\n    PdfSidebarComponent,\n    PdfHandToolComponent,\n    PdfSelectToolComponent,\n    PdfSecondaryToolbarComponent,\n    PdfDocumentPropertiesOverlayComponent,\n    PdfSearchInputFieldComponent,\n    PdfFindPreviousComponent,\n    PdfFindNextComponent,\n    PdfFindInputAreaComponent,\n    PdfFindbarOptionsTwoContainerComponent,\n    PdfFindbarOptionsOneContainerComponent,\n    PdfFindMatchCaseComponent,\n    PdfFindHighlightAllComponent,\n    PdfFindEntireWordComponent,\n    PdfFindFuzzilyComponent,\n    PdfFindMultipleSearchTextsComponent,\n    PdfFindIgnoreAccentsComponent,\n    PdfFindbarOptionsThreeContainerComponent,\n    PdfFindResultsCountComponent,\n    PdfFindbarMessageContainerComponent,\n    PdfToolbarComponent,\n    PdfFindButtonComponent,\n    PdfToggleSidebarComponent,\n    PdfToggleSecondaryToolbarComponent,\n    PdfLastPageComponent,\n    PdfFirstPageComponent,\n    PdfNextPageComponent,\n    PdfPreviousPageComponent,\n    PdfPageNumberComponent,\n    PdfRotatePageComponent,\n    PdfZoomInComponent,\n    PdfZoomOutComponent,\n    PdfDummyComponentsComponent,\n    PdfSidebarContentComponent,\n    PdfSidebarToolbarComponent,\n    PdfOriginalComponent,\n    PdfDarkThemeComponent,\n    PdfLightThemeComponent,\n    TranslatePipe,\n  ],\n  providers: [NgxExtendedPdfViewerService, PDFNotificationService, Location, { provide: LocationStrategy, useClass: PathLocationStrategy }],\n  exports: [\n    PdfZoomDropdownComponent,\n    PdfContextMenuComponent,\n    PdfPresentationModeComponent,\n    PdfOpenFileComponent,\n    PdfPrintComponent,\n    PdfDownloadComponent,\n    PdfBookmarkComponent,\n    PdfZoomToolbarComponent,\n    PdfPagingAreaComponent,\n    PdfFindbarComponent,\n    PdfSidebarComponent,\n    PdfSidebarContentComponent,\n    PdfSidebarToolbarComponent,\n    PdfSecondaryToolbarComponent,\n    PdfDocumentPropertiesOverlayComponent,\n    PdfSearchInputFieldComponent,\n    PdfFindPreviousComponent,\n    PdfFindNextComponent,\n    PdfFindInputAreaComponent,\n    PdfFindbarOptionsTwoContainerComponent,\n    PdfFindbarOptionsOneContainerComponent,\n    PdfFindMatchCaseComponent,\n    PdfFindHighlightAllComponent,\n    PdfFindEntireWordComponent,\n    PdfFindMultipleSearchTextsComponent,\n    PdfFindIgnoreAccentsComponent,\n    PdfFindbarOptionsThreeContainerComponent,\n    PdfFindResultsCountComponent,\n    PdfFindbarMessageContainerComponent,\n    PdfHandToolComponent,\n    PdfRotatePageComponent,\n    PdfSelectToolComponent,\n    PdfToolbarComponent,\n    PdfFindButtonComponent,\n    PdfToggleSidebarComponent,\n    PdfToggleSecondaryToolbarComponent,\n    PdfLastPageComponent,\n    PdfFirstPageComponent,\n    PdfNextPageComponent,\n    PdfPreviousPageComponent,\n    PdfPageNumberComponent,\n    PdfZoomInComponent,\n    PdfZoomOutComponent,\n    NgxExtendedPdfViewerComponent,\n  ],\n})\nexport class NgxExtendedPdfViewerModule {\n  constructor() {}\n}\n","import { IPDFViewerApplication } from './options/pdf-viewer-application';\n\nexport interface PdfDocumentInfo {\n  author?: string;\n  creationDate?: Date;\n  creator?: string;\n\n  keywords?: string;\n  linearized?: boolean;\n  maybeFileSize?: string;\n  modificationDate?: Date;\n  pdfFormatVersion?: string;\n  producer?: string;\n  subject?: string;\n  title?: string;\n}\n\nexport class PdfDocumentPropertiesExtractor {\n  private pdfDateStringRegex = new RegExp(\n    '^D:' + // Prefix (required)\n      '(\\\\d{4})' + // Year (required)\n      '(\\\\d{2})?' + // Month (optional)\n      '(\\\\d{2})?' + // Day (optional)\n      '(\\\\d{2})?' + // Hour (optional)\n      '(\\\\d{2})?' + // Minute (optional)\n      '(\\\\d{2})?' + // Second (optional)\n      '([Z|+|-])?' + // Universal time relation (optional)\n      '(\\\\d{2})?' + // Offset hour (optional)\n      // tslint:disable-next-line: quotemark\n      \"'?\" + // Splitting apostrophe (optional)\n      '(\\\\d{2})?' + // Offset minute (optional)\n      // tslint:disable-next-line: quotemark\n      \"'?\" // Trailing apostrophe (optional)\n  );\n\n  public async getDocumentProperties(): Promise<any> {\n    const PDFViewerApplication: IPDFViewerApplication = (window as any)\n      .PDFViewerApplication;\n    const pdfDocument = PDFViewerApplication.pdfDocument;\n\n    const result: any = {};\n    return pdfDocument\n      .getMetadata()\n      .then(({ info, metadata, contentDispositionFilename }) => {\n        result.author = info.Author;\n        result.creationDate = this.toDateObject(\n          info.CreationDate\n        );\n        result.creator = info.Creator;\n        result.keywords = info.Keywords;\n        result.linearized = info.IsLinearized;\n        result.modificationDate = this.toDateObject(\n          info.ModDate\n        );\n        result.pdfFormatVersion = info.PDFFormatVersion;\n        result.producer = info.Producer;\n      result.subject = info.Subject;\n        result.title = info.Title;\n        if (contentDispositionFilename) {\n          result.fileName = contentDispositionFilename;\n        }\n        return pdfDocument.getDownloadInfo();\n      })\n      .then(({ length }) => {\n        result.maybeFileSize = length;\n        return result;\n      });\n  }\n\n  /** shamelessly copied from pdf.js */\n  private toDateObject(input: string | any): Date | null {\n    // if (!input ||  typeof input !== \"string\")) {\n    //  return null;\n    //  }\n\n    // Optional fields that don't satisfy the requirements from the regular\n    // expression (such as incorrect digit counts or numbers that are out of\n    // range) will fall back the defaults from the specification.\n    const matches = this.pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n\n    // JavaScript's `Date` object expects the month to be between 0 and 11\n    // instead of 1 and 12, so we have to correct for that.\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || 'Z';\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n\n    // Universal time relation 'Z' means that the local time is equal to the\n    // universal time, whereas the relations '+'/'-' indicate that the local\n    // time is later respectively earlier than the universal time. Every date\n    // is normalized to universal time.\n    if (universalTimeRelation === '-') {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === '+') {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\n","export const LinkTarget = {\n  NONE: 0,\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4\n};\n"]}